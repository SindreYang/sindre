
<!doctype html>
<html lang="zh" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
        <meta name="author" content="sindreyang">
      
      
      
        <link rel="prev" href="../win_tools/">
      
      
      
        
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.7.0">
    
    
      
        <title>API文档 - sindre库</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.618322db.min.css">
      
        
        <link rel="stylesheet" href="../assets/stylesheets/palette.ab4e12ef.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../assets/_mkdocstrings.css">
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="slate" data-md-color-primary="orange" data-md-color-accent="orange">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#api" class="md-skip">
          跳转至
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="页眉">
    <a href=".." title="sindre库" class="md-header__button md-logo" aria-label="sindre库" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            sindre库
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              API文档
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="slate" data-md-color-primary="orange" data-md-color-accent="orange"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 6H7c-3.31 0-6 2.69-6 6s2.69 6 6 6h10c3.31 0 6-2.69 6-6s-2.69-6-6-6m0 10H7c-2.21 0-4-1.79-4-4s1.79-4 4-4h10c2.21 0 4 1.79 4 4s-1.79 4-4 4M7 9c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="" data-md-color-scheme="default" data-md-color-primary="blue" data-md-color-accent="blue"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M17 7H7a5 5 0 0 0-5 5 5 5 0 0 0 5 5h10a5 5 0 0 0 5-5 5 5 0 0 0-5-5m0 8a3 3 0 0 1-3-3 3 3 0 0 1 3-3 3 3 0 0 1 3 3 3 3 0 0 1-3 3"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="搜索" placeholder="搜索" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="查找">
        
        <button type="reset" class="md-search__icon md-icon" title="清空当前内容" aria-label="清空当前内容" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            正在初始化搜索引擎
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
      
    
    
      <div class="md-header__source">
        <a href="https://github.com/SindreYang/sindre" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="标签" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
  
    
  
  关于

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../lmdb/" class="md-tabs__link">
        
  
  
    
  
  LMDB集成

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../3d/" class="md-tabs__link">
        
  
  
    
  
  三维算法

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../deploy/" class="md-tabs__link">
        
  
  
    
  
  模型部署

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../general/" class="md-tabs__link">
        
  
  
    
  
  通用工具

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../report/" class="md-tabs__link">
        
  
  
    
  
  测试报告

      </a>
    </li>
  

      
        
  
  
  
  
    <li class="md-tabs__item">
      <a href="../win_tools/" class="md-tabs__link">
        
  
  
    
  
  Windows系统工具

      </a>
    </li>
  

      
        
  
  
  
    
  
  
    <li class="md-tabs__item md-tabs__item--active">
      <a href="./" class="md-tabs__link">
        
  
  
    
  
  API文档

      </a>
    </li>
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


<nav class="md-nav md-nav--primary md-nav--lifted" aria-label="导航栏" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="sindre库" class="md-nav__button md-logo" aria-label="sindre库" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    sindre库
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/SindreYang/sindre" title="前往仓库" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    关于
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../lmdb/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    LMDB集成
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../3d/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    三维算法
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../deploy/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    模型部署
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../general/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    通用工具
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../report/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    测试报告
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../win_tools/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Windows系统工具
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
    
  
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
        
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          
  
  
  <span class="md-ellipsis">
    
  
    API文档
  

    
  </span>
  
  

          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        
  
  
  <span class="md-ellipsis">
    
  
    API文档
  

    
  </span>
  
  

      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lmdbapi" class="md-nav__link">
    <span class="md-ellipsis">
      
        LMDB模块API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb" class="md-nav__link">
    <span class="md-ellipsis">
      
        pylmdb
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Base" class="md-nav__link">
    <span class="md-ellipsis">
      
        Base
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reader
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_data_keys" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_data_keys
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_data_size" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_data_size
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_data_specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_data_specification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_data_value" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_data_value
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_delete_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_delete_sample
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_dict_keys" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_dict_keys
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_mapping
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_meta" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_meta
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_meta_keys" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_meta_keys
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_sample
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_samples" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_samples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderList" class="md-nav__link">
    <span class="md-ellipsis">
      
        ReaderList
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ReaderList">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderList.__del__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __del__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderList.__getitem__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __getitem__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderList.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderList.__len__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __len__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderList.close" class="md-nav__link">
    <span class="md-ellipsis">
      
        close
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSD" class="md-nav__link">
    <span class="md-ellipsis">
      
        ReaderSSD
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ReaderSSD">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSD.__getitem__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __getitem__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSD.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSD.__len__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __len__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSD.get_batch" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_batch
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSDList" class="md-nav__link">
    <span class="md-ellipsis">
      
        ReaderSSDList
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ReaderSSDList">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSDList.__getitem__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __getitem__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSDList.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSDList.__len__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __len__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSDList.get_batch" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_batch
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Writer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer--_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        元数据操作
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer--_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        基本操作
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.physical_size" class="md-nav__link">
    <span class="md-ellipsis">
      
        physical_size
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.size" class="md-nav__link">
    <span class="md-ellipsis">
      
        size
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.change_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        change_sample
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.close" class="md-nav__link">
    <span class="md-ellipsis">
      
        close
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.delete_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_sample
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.get_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_mapping
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.insert_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        insert_sample
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.put_meta" class="md-nav__link">
    <span class="md-ellipsis">
      
        put_meta
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.put_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        put_sample
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.restore_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        restore_sample
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.fix_lmdb_windows_size" class="md-nav__link">
    <span class="md-ellipsis">
      
        fix_lmdb_windows_size
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.get_data_size" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_data_size
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.get_data_value" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_data_value
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.merge_lmdb" class="md-nav__link">
    <span class="md-ellipsis">
      
        merge_lmdb
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.parallel_write" class="md-nav__link">
    <span class="md-ellipsis">
      
        parallel_write
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.split_lmdb" class="md-nav__link">
    <span class="md-ellipsis">
      
        split_lmdb
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        tools
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.tools.check_filesystem_is_ext4" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_filesystem_is_ext4
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.tools.decode_data" class="md-nav__link">
    <span class="md-ellipsis">
      
        decode_data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.tools.decode_str" class="md-nav__link">
    <span class="md-ellipsis">
      
        decode_str
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="decode_str">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lmdb.tools.decode_str--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.tools.encode_data" class="md-nav__link">
    <span class="md-ellipsis">
      
        encode_data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.tools.encode_str" class="md-nav__link">
    <span class="md-ellipsis">
      
        encode_str
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="encode_str">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lmdb.tools.encode_str--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        三维算法API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      
        algorithm
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.A_Star" class="md-nav__link">
    <span class="md-ellipsis">
      
        A_Star
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="A_Star">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.A_Star.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.A_Star.build_adjacency" class="md-nav__link">
    <span class="md-ellipsis">
      
        build_adjacency
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.A_Star.run" class="md-nav__link">
    <span class="md-ellipsis">
      
        run
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.BestKFinder" class="md-nav__link">
    <span class="md-ellipsis">
      
        BestKFinder
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BestKFinder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.BestKFinder.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.BestKFinder.calculate_boundary_points" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculate_boundary_points
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.BestKFinder.evaluate_boundary_points" class="md-nav__link">
    <span class="md-ellipsis">
      
        evaluate_boundary_points
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.BestKFinder.find_best_k" class="md-nav__link">
    <span class="md-ellipsis">
      
        find_best_k
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.GraphCutWithMesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        GraphCutWithMesh
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraphCutWithMesh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.GraphCutWithMesh.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.GraphCutWithMesh.get_weights" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_weights
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.GraphCutWithMesh.refine" class="md-nav__link">
    <span class="md-ellipsis">
      
        refine
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.LabelUpsampler" class="md-nav__link">
    <span class="md-ellipsis">
      
        LabelUpsampler
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LabelUpsampler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.LabelUpsampler.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.LabelUpsampler.fit" class="md-nav__link">
    <span class="md-ellipsis">
      
        fit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.LabelUpsampler.predict" class="md-nav__link">
    <span class="md-ellipsis">
      
        predict
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.MeshRandomWalks" class="md-nav__link">
    <span class="md-ellipsis">
      
        MeshRandomWalks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MeshRandomWalks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.MeshRandomWalks.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.MeshRandomWalks.segment" class="md-nav__link">
    <span class="md-ellipsis">
      
        segment
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.NpEncoder" class="md-nav__link">
    <span class="md-ellipsis">
      
        NpEncoder
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.UnifiedLabelRefiner" class="md-nav__link">
    <span class="md-ellipsis">
      
        UnifiedLabelRefiner
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UnifiedLabelRefiner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.UnifiedLabelRefiner.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.UnifiedLabelRefiner.refine" class="md-nav__link">
    <span class="md-ellipsis">
      
        refine
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.add_base" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_base
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.angle_axis_np" class="md-nav__link">
    <span class="md-ellipsis">
      
        angle_axis_np
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.apply_transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        apply_transform
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.array2voxel" class="md-nav__link">
    <span class="md-ellipsis">
      
        array2voxel
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.collision_depth" class="md-nav__link">
    <span class="md-ellipsis">
      
        collision_depth
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.color_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        color_mapping
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.compute_curvature_by_igl" class="md-nav__link">
    <span class="md-ellipsis">
      
        compute_curvature_by_igl
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.compute_curvature_by_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        compute_curvature_by_meshlab
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.compute_face_normals" class="md-nav__link">
    <span class="md-ellipsis">
      
        compute_face_normals
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.compute_vertex_normals" class="md-nav__link">
    <span class="md-ellipsis">
      
        compute_vertex_normals
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.create_voxels" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_voxels
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.cut_mesh_point_loop" class="md-nav__link">
    <span class="md-ellipsis">
      
        cut_mesh_point_loop
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.cut_mesh_with_meshlib" class="md-nav__link">
    <span class="md-ellipsis">
      
        cut_mesh_with_meshlib
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.depth2color" class="md-nav__link">
    <span class="md-ellipsis">
      
        depth2color
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.detect_boundary_points" class="md-nav__link">
    <span class="md-ellipsis">
      
        detect_boundary_points
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.equidistant_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        equidistant_mesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.face_labels_to_vertex_labels" class="md-nav__link">
    <span class="md-ellipsis">
      
        face_labels_to_vertex_labels
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.face_probs_to_vertex_probs" class="md-nav__link">
    <span class="md-ellipsis">
      
        face_probs_to_vertex_probs
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.farthest_point_sampling" class="md-nav__link">
    <span class="md-ellipsis">
      
        farthest_point_sampling
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="farthest_point_sampling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.farthest_point_sampling--102000" class="md-nav__link">
    <span class="md-ellipsis">
      
        自动分10批，每批采2000点
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.farthest_point_sampling--5000" class="md-nav__link">
    <span class="md-ellipsis">
      
        单批采5000点
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.farthest_point_sampling_by_open3d" class="md-nav__link">
    <span class="md-ellipsis">
      
        farthest_point_sampling_by_open3d
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.fill_hole_with_center" class="md-nav__link">
    <span class="md-ellipsis">
      
        fill_hole_with_center
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.fix_component_by_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        fix_component_by_meshlab
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.fix_floater_by_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        fix_floater_by_meshlab
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.fix_invalid_by_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        fix_invalid_by_meshlab
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.fix_topology_by_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        fix_topology_by_meshlab
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.furthestsampling_jit" class="md-nav__link">
    <span class="md-ellipsis">
      
        furthestsampling_jit
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.get_axis_rotation" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_axis_rotation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.get_gaussian_heatmap" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_gaussian_heatmap
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.get_obb_box" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_obb_box
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.get_obb_box_max_min" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_obb_box_max_min
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.get_pca_rotation" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_pca_rotation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.get_pca_transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_pca_transform
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.harmonic_by_igl" class="md-nav__link">
    <span class="md-ellipsis">
      
        harmonic_by_igl
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.hole_filling_by_Radial" class="md-nav__link">
    <span class="md-ellipsis">
      
        hole_filling_by_Radial
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.isotropic_remeshing_by_acvd" class="md-nav__link">
    <span class="md-ellipsis">
      
        isotropic_remeshing_by_acvd
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.isotropic_remeshing_by_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        isotropic_remeshing_by_meshlab
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.labels2colors" class="md-nav__link">
    <span class="md-ellipsis">
      
        labels2colors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.labels_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        labels_mapping
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.line_project_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        line_project_mesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.mesh2sdf" class="md-nav__link">
    <span class="md-ellipsis">
      
        mesh2sdf
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.mesh_uv_wrap" class="md-nav__link">
    <span class="md-ellipsis">
      
        mesh_uv_wrap
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.normal2color" class="md-nav__link">
    <span class="md-ellipsis">
      
        normal2color
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.resample_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        resample_mesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.restore_transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        restore_transform
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.sample_sdf_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        sample_sdf_mesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.sample_sharp_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        sample_sharp_mesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.save_np_json" class="md-nav__link">
    <span class="md-ellipsis">
      
        save_np_json
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.show_gaussian_heatmap" class="md-nav__link">
    <span class="md-ellipsis">
      
        show_gaussian_heatmap
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.simplify_by_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        simplify_by_meshlab
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.subdivide_loop_by_trimesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        subdivide_loop_by_trimesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.vertex_labels_to_face_labels" class="md-nav__link">
    <span class="md-ellipsis">
      
        vertex_labels_to_face_labels
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.voxel2array" class="md-nav__link">
    <span class="md-ellipsis">
      
        voxel2array
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        dental_tools
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.convert_fdi2idx" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_fdi2idx
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.convert_labels2color" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_labels2color
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.cut_crown_with_meshlib" class="md-nav__link">
    <span class="md-ellipsis">
      
        cut_crown_with_meshlib
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.cut_mesh_point_loop_crow" class="md-nav__link">
    <span class="md-ellipsis">
      
        cut_mesh_point_loop_crow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.cut_with_ribbon" class="md-nav__link">
    <span class="md-ellipsis">
      
        cut_with_ribbon
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.deform_and_merge_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        deform_and_merge_mesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.get_mesh_side_area" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_mesh_side_area
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.labels2colors_freeze" class="md-nav__link">
    <span class="md-ellipsis">
      
        labels2colors_freeze
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.subdivide_with_pts" class="md-nav__link">
    <span class="md-ellipsis">
      
        subdivide_with_pts
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.transform_crown" class="md-nav__link">
    <span class="md-ellipsis">
      
        transform_crown
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.sindremesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        sindremesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        SindreMesh
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SindreMesh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.center" class="md-nav__link">
    <span class="md-ellipsis">
      
        center
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.faces_area" class="md-nav__link">
    <span class="md-ellipsis">
      
        faces_area
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.faces_barycentre" class="md-nav__link">
    <span class="md-ellipsis">
      
        faces_barycentre
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.faces_vertices" class="md-nav__link">
    <span class="md-ellipsis">
      
        faces_vertices
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_adj_list" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_adj_list
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_adj_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_adj_matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_edges" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_edges
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.nfaces" class="md-nav__link">
    <span class="md-ellipsis">
      
        nfaces
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.npoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        npoints
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_dict
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_json" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_json
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_meshlab
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_open3d" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_open3d
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_open3d_t" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_open3d_t
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_trimesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_trimesh
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_vedo" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_vedo
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_vedo_pointcloud" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_vedo_pointcloud
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __repr__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.apply_inv_transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        apply_inv_transform
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.apply_transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        apply_transform
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.apply_transform_normals" class="md-nav__link">
    <span class="md-ellipsis">
      
        apply_transform_normals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.check" class="md-nav__link">
    <span class="md-ellipsis">
      
        check
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.clean" class="md-nav__link">
    <span class="md-ellipsis">
      
        clean
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.clone" class="md-nav__link">
    <span class="md-ellipsis">
      
        clone
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.compute_normals" class="md-nav__link">
    <span class="md-ellipsis">
      
        compute_normals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.cut_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        cut_mesh
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.decimate" class="md-nav__link">
    <span class="md-ellipsis">
      
        decimate
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.fix_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        fix_mesh
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_boundary" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_boundary
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_boundary_by_normal_angle" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_boundary_by_normal_angle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_boundary_by_ref_normal_angle" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_boundary_by_ref_normal_angle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_color_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_color_mapping
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_curvature" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_curvature
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_curvature_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_curvature_meshlab
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_faces_labels" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_faces_labels
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_near_idx" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_near_idx
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_normalize" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_normalize
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_texture" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_texture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_unused_vertices" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_unused_vertices
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_uv" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_uv
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.homogenize" class="md-nav__link">
    <span class="md-ellipsis">
      
        homogenize
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.load" class="md-nav__link">
    <span class="md-ellipsis">
      
        load
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.print_o3d" class="md-nav__link">
    <span class="md-ellipsis">
      
        print_o3d
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.remove_degenerate_faces" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_degenerate_faces
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.remove_faces_by_vertex_indices" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_faces_by_vertex_indices
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.rotate_xyz" class="md-nav__link">
    <span class="md-ellipsis">
      
        rotate_xyz
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        sample
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.save" class="md-nav__link">
    <span class="md-ellipsis">
      
        save
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.scale_xyz" class="md-nav__link">
    <span class="md-ellipsis">
      
        scale_xyz
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.set_faces_labels" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_faces_labels
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.set_vertex_labels" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_vertex_labels
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.shift_xyz" class="md-nav__link">
    <span class="md-ellipsis">
      
        shift_xyz
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.show" class="md-nav__link">
    <span class="md-ellipsis">
      
        show
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.split_component" class="md-nav__link">
    <span class="md-ellipsis">
      
        split_component
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.subdivison" class="md-nav__link">
    <span class="md-ellipsis">
      
        subdivison
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.texture2colors" class="md-nav__link">
    <span class="md-ellipsis">
      
        texture2colors
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_pytorch3d" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_pytorch3d
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_torch" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_torch
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.update_geometry" class="md-nav__link">
    <span class="md-ellipsis">
      
        update_geometry
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.vedo_tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        vedo_tools
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.vedo_tools.matrix3d_by_vedo" class="md-nav__link">
    <span class="md-ellipsis">
      
        matrix3d_by_vedo
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="matrix3d_by_vedo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.vedo_tools.matrix3d_by_vedo.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.vedo_tools.show_matrix_by_vedo" class="md-nav__link">
    <span class="md-ellipsis">
      
        show_matrix_by_vedo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        神经网络API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers" class="md-nav__link">
    <span class="md-ellipsis">
      
        layers
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.AdaIN" class="md-nav__link">
    <span class="md-ellipsis">
      
        AdaIN
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.CrossAttentionDecoder" class="md-nav__link">
    <span class="md-ellipsis">
      
        CrossAttentionDecoder
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CrossAttentionDecoder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.layers.CrossAttentionDecoder.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.DropPath" class="md-nav__link">
    <span class="md-ellipsis">
      
        DropPath
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DropPath">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.layers.DropPath.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.layers.DropPath.extra_repr" class="md-nav__link">
    <span class="md-ellipsis">
      
        extra_repr
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.layers.DropPath.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.FourierEmbedder" class="md-nav__link">
    <span class="md-ellipsis">
      
        FourierEmbedder
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FourierEmbedder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.layers.FourierEmbedder.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.layers.FourierEmbedder.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.layers.FourierEmbedder.get_dims" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_dims
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.GEGLU" class="md-nav__link">
    <span class="md-ellipsis">
      
        GEGLU
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.MLP" class="md-nav__link">
    <span class="md-ellipsis">
      
        MLP
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MLP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.layers.MLP.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.MultiheadAttention" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiheadAttention
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.MultiheadCrossAttention" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiheadCrossAttention
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.QKVMultiheadAttention" class="md-nav__link">
    <span class="md-ellipsis">
      
        QKVMultiheadAttention
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.QKVMultiheadCrossAttention" class="md-nav__link">
    <span class="md-ellipsis">
      
        QKVMultiheadCrossAttention
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.ResidualAttentionBlock" class="md-nav__link">
    <span class="md-ellipsis">
      
        ResidualAttentionBlock
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.ResidualCrossAttentionBlock" class="md-nav__link">
    <span class="md-ellipsis">
      
        ResidualCrossAttentionBlock
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.Transformer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Transformer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.binarize" class="md-nav__link">
    <span class="md-ellipsis">
      
        binarize
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="binarize">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.layers.binarize.backward" class="md-nav__link">
    <span class="md-ellipsis">
      
        backward
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.layers.binarize.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses" class="md-nav__link">
    <span class="md-ellipsis">
      
        losses
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.BinaryFocalLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        BinaryFocalLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BinaryFocalLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.BinaryFocalLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.BoundaryLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        BoundaryLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BoundaryLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.BoundaryLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.CenterLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        CenterLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CenterLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.CenterLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.ContourLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        ContourLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ContourLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.ContourLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.DiceLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        DiceLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DiceLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.DiceLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.FocalLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        FocalLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FocalLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.FocalLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.GramLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        GramLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GramLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.GramLoss.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.GramLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.KoLeoLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        KoLeoLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="KoLeoLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.KoLeoLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.KoLeoLoss.pairwise_NNs_inner" class="md-nav__link">
    <span class="md-ellipsis">
      
        pairwise_NNs_inner
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.LossVariance" class="md-nav__link">
    <span class="md-ellipsis">
      
        LossVariance
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.LovaszLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        LovaszLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LovaszLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.LovaszLoss.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.LovaszLoss.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __repr__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.LovaszLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.MulticlassDiceLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        MulticlassDiceLoss
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.PatchIoULoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        PatchIoULoss
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.SDFLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        SDFLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SDFLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.SDFLoss.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.SDFLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.SSIMUtil" class="md-nav__link">
    <span class="md-ellipsis">
      
        SSIMUtil
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SSIMUtil">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.SSIMUtil.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.SSIMUtil.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.SSIMUtil.saliency_structure_consistency" class="md-nav__link">
    <span class="md-ellipsis">
      
        saliency_structure_consistency
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.SSIMUtil.ssim_average" class="md-nav__link">
    <span class="md-ellipsis">
      
        ssim_average
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.SSIMUtil.ssim_gaussian" class="md-nav__link">
    <span class="md-ellipsis">
      
        ssim_gaussian
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.SSIMUtil.ssim_loss" class="md-nav__link">
    <span class="md-ellipsis">
      
        ssim_loss
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.StructureLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        StructureLoss
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.StyleTransfer" class="md-nav__link">
    <span class="md-ellipsis">
      
        StyleTransfer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="StyleTransfer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.StyleTransfer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.StyleTransfer.content_loss" class="md-nav__link">
    <span class="md-ellipsis">
      
        content_loss
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.StyleTransfer.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.StyleTransfer.gram_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        gram_matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.StyleTransfer.style_loss" class="md-nav__link">
    <span class="md-ellipsis">
      
        style_loss
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.StyleTransfer.tv_loss" class="md-nav__link">
    <span class="md-ellipsis">
      
        tv_loss
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.WeightMulticlassDiceLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        WeightMulticlassDiceLoss
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.dice_loss_multi_classes" class="md-nav__link">
    <span class="md-ellipsis">
      
        dice_loss_multi_classes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.utils" class="md-nav__link">
    <span class="md-ellipsis">
      
        utils
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.utils.load_checkpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_checkpoint
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.utils.pca_color_by_feat" class="md-nav__link">
    <span class="md-ellipsis">
      
        pca_color_by_feat
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.utils.save_checkpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        save_checkpoint
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.utils.set_global_seeds" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_global_seeds
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.utils.set_ssl" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_ssl
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        报告模块API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#report.report" class="md-nav__link">
    <span class="md-ellipsis">
      
        report
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#windowsapi" class="md-nav__link">
    <span class="md-ellipsis">
      
        Windows工具API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        tools
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.ip_bind" class="md-nav__link">
    <span class="md-ellipsis">
      
        ip_bind
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ip_bind">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#win_tools.tools.ip_bind.set_ip" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_ip
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.tcp_mapping_qt" class="md-nav__link">
    <span class="md-ellipsis">
      
        tcp_mapping_qt
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.check_port" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_port
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.download_url_file" class="md-nav__link">
    <span class="md-ellipsis">
      
        download_url_file
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.exe2nsis" class="md-nav__link">
    <span class="md-ellipsis">
      
        exe2nsis
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.is_service_exists" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_service_exists
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.kill_process_using_port" class="md-nav__link">
    <span class="md-ellipsis">
      
        kill_process_using_port
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.pip_install" class="md-nav__link">
    <span class="md-ellipsis">
      
        pip_install
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.py2pyd" class="md-nav__link">
    <span class="md-ellipsis">
      
        py2pyd
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.python_installer" class="md-nav__link">
    <span class="md-ellipsis">
      
        python_installer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.zip_extract" class="md-nav__link">
    <span class="md-ellipsis">
      
        zip_extract
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.taskbar" class="md-nav__link">
    <span class="md-ellipsis">
      
        taskbar
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.taskbar.set_windows_alpha" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_windows_alpha
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        部署相关 API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.check_tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_tools
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.check_tools.timeit" class="md-nav__link">
    <span class="md-ellipsis">
      
        timeit
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.check_tools.check_gpu_info" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_gpu_info
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        onnxruntime_deploy
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer" class="md-nav__link">
    <span class="md-ellipsis">
      
        OnnxInfer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OnnxInfer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __call__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.convert_opset_version" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_opset_version
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.dynamic_input_shape" class="md-nav__link">
    <span class="md-ellipsis">
      
        dynamic_input_shape
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.fix_input_shape" class="md-nav__link">
    <span class="md-ellipsis">
      
        fix_input_shape
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.get_session" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_session
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.optimizer" class="md-nav__link">
    <span class="md-ellipsis">
      
        optimizer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.test_performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        test_performance
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.python_share_memory" class="md-nav__link">
    <span class="md-ellipsis">
      
        python_share_memory
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.python_share_memory.SimpleSharedMemory" class="md-nav__link">
    <span class="md-ellipsis">
      
        SimpleSharedMemory
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SimpleSharedMemory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploy.python_share_memory.SimpleSharedMemory.get_status" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_status
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.python_share_memory.SimpleSharedMemory.read" class="md-nav__link">
    <span class="md-ellipsis">
      
        read
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.python_share_memory.SimpleSharedMemory.set_status" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_status
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.python_share_memory.SimpleSharedMemory.write" class="md-nav__link">
    <span class="md-ellipsis">
      
        write
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.TenserRT_deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        TenserRT_deploy
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.TenserRT_deploy.TRTInfer" class="md-nav__link">
    <span class="md-ellipsis">
      
        TRTInfer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TRTInfer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploy.TenserRT_deploy.TRTInfer.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __call__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.TenserRT_deploy.TRTInfer.build_engine" class="md-nav__link">
    <span class="md-ellipsis">
      
        build_engine
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.TenserRT_deploy.TRTInfer.load_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.TenserRT_deploy.TRTInfer.test_performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        test_performance
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.opset_deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        opset_deploy
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.opset_deploy.grid_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        grid_sample
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.opset_deploy.grid_sample_2d" class="md-nav__link">
    <span class="md-ellipsis">
      
        grid_sample_2d
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.opset_deploy.grid_sample_3d" class="md-nav__link">
    <span class="md-ellipsis">
      
        grid_sample_3d
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        日志工具 API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general.logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        logs
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general.logs.CustomLogger" class="md-nav__link">
    <span class="md-ellipsis">
      
        CustomLogger
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CustomLogger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general.logs.CustomLogger.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#general.logs.CustomLogger.get_logger" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_logger
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="目录">
  
  
  
    
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      目录
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#lmdbapi" class="md-nav__link">
    <span class="md-ellipsis">
      
        LMDB模块API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb" class="md-nav__link">
    <span class="md-ellipsis">
      
        pylmdb
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Base" class="md-nav__link">
    <span class="md-ellipsis">
      
        Base
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader" class="md-nav__link">
    <span class="md-ellipsis">
      
        Reader
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Reader">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_data_keys" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_data_keys
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_data_size" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_data_size
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_data_specification" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_data_specification
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_data_value" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_data_value
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_delete_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_delete_sample
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_dict_keys" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_dict_keys
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_mapping
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_meta" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_meta
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_meta_keys" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_meta_keys
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_sample
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Reader.get_samples" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_samples
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderList" class="md-nav__link">
    <span class="md-ellipsis">
      
        ReaderList
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ReaderList">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderList.__del__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __del__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderList.__getitem__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __getitem__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderList.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderList.__len__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __len__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderList.close" class="md-nav__link">
    <span class="md-ellipsis">
      
        close
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSD" class="md-nav__link">
    <span class="md-ellipsis">
      
        ReaderSSD
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ReaderSSD">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSD.__getitem__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __getitem__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSD.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSD.__len__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __len__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSD.get_batch" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_batch
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSDList" class="md-nav__link">
    <span class="md-ellipsis">
      
        ReaderSSDList
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ReaderSSDList">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSDList.__getitem__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __getitem__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSDList.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSDList.__len__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __len__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.ReaderSSDList.get_batch" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_batch
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Writer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Writer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer--_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        元数据操作
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer--_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        基本操作
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.physical_size" class="md-nav__link">
    <span class="md-ellipsis">
      
        physical_size
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.size" class="md-nav__link">
    <span class="md-ellipsis">
      
        size
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.change_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        change_sample
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.close" class="md-nav__link">
    <span class="md-ellipsis">
      
        close
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.delete_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        delete_sample
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.get_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_mapping
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.insert_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        insert_sample
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.put_meta" class="md-nav__link">
    <span class="md-ellipsis">
      
        put_meta
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.put_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        put_sample
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#lmdb.pylmdb.Writer.restore_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        restore_sample
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.fix_lmdb_windows_size" class="md-nav__link">
    <span class="md-ellipsis">
      
        fix_lmdb_windows_size
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.get_data_size" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_data_size
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.get_data_value" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_data_value
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.merge_lmdb" class="md-nav__link">
    <span class="md-ellipsis">
      
        merge_lmdb
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.parallel_write" class="md-nav__link">
    <span class="md-ellipsis">
      
        parallel_write
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.pylmdb.split_lmdb" class="md-nav__link">
    <span class="md-ellipsis">
      
        split_lmdb
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        tools
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.tools.check_filesystem_is_ext4" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_filesystem_is_ext4
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.tools.decode_data" class="md-nav__link">
    <span class="md-ellipsis">
      
        decode_data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.tools.decode_str" class="md-nav__link">
    <span class="md-ellipsis">
      
        decode_str
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="decode_str">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lmdb.tools.decode_str--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.tools.encode_data" class="md-nav__link">
    <span class="md-ellipsis">
      
        encode_data
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#lmdb.tools.encode_str" class="md-nav__link">
    <span class="md-ellipsis">
      
        encode_str
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="encode_str">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#lmdb.tools.encode_str--parameters" class="md-nav__link">
    <span class="md-ellipsis">
      
        Parameters
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api_1" class="md-nav__link">
    <span class="md-ellipsis">
      
        三维算法API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm" class="md-nav__link">
    <span class="md-ellipsis">
      
        algorithm
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.A_Star" class="md-nav__link">
    <span class="md-ellipsis">
      
        A_Star
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="A_Star">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.A_Star.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.A_Star.build_adjacency" class="md-nav__link">
    <span class="md-ellipsis">
      
        build_adjacency
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.A_Star.run" class="md-nav__link">
    <span class="md-ellipsis">
      
        run
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.BestKFinder" class="md-nav__link">
    <span class="md-ellipsis">
      
        BestKFinder
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BestKFinder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.BestKFinder.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.BestKFinder.calculate_boundary_points" class="md-nav__link">
    <span class="md-ellipsis">
      
        calculate_boundary_points
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.BestKFinder.evaluate_boundary_points" class="md-nav__link">
    <span class="md-ellipsis">
      
        evaluate_boundary_points
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.BestKFinder.find_best_k" class="md-nav__link">
    <span class="md-ellipsis">
      
        find_best_k
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.GraphCutWithMesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        GraphCutWithMesh
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GraphCutWithMesh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.GraphCutWithMesh.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.GraphCutWithMesh.get_weights" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_weights
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.GraphCutWithMesh.refine" class="md-nav__link">
    <span class="md-ellipsis">
      
        refine
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.LabelUpsampler" class="md-nav__link">
    <span class="md-ellipsis">
      
        LabelUpsampler
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LabelUpsampler">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.LabelUpsampler.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.LabelUpsampler.fit" class="md-nav__link">
    <span class="md-ellipsis">
      
        fit
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.LabelUpsampler.predict" class="md-nav__link">
    <span class="md-ellipsis">
      
        predict
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.MeshRandomWalks" class="md-nav__link">
    <span class="md-ellipsis">
      
        MeshRandomWalks
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MeshRandomWalks">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.MeshRandomWalks.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.MeshRandomWalks.segment" class="md-nav__link">
    <span class="md-ellipsis">
      
        segment
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.NpEncoder" class="md-nav__link">
    <span class="md-ellipsis">
      
        NpEncoder
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.UnifiedLabelRefiner" class="md-nav__link">
    <span class="md-ellipsis">
      
        UnifiedLabelRefiner
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="UnifiedLabelRefiner">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.UnifiedLabelRefiner.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.UnifiedLabelRefiner.refine" class="md-nav__link">
    <span class="md-ellipsis">
      
        refine
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.add_base" class="md-nav__link">
    <span class="md-ellipsis">
      
        add_base
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.angle_axis_np" class="md-nav__link">
    <span class="md-ellipsis">
      
        angle_axis_np
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.apply_transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        apply_transform
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.array2voxel" class="md-nav__link">
    <span class="md-ellipsis">
      
        array2voxel
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.collision_depth" class="md-nav__link">
    <span class="md-ellipsis">
      
        collision_depth
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.color_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        color_mapping
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.compute_curvature_by_igl" class="md-nav__link">
    <span class="md-ellipsis">
      
        compute_curvature_by_igl
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.compute_curvature_by_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        compute_curvature_by_meshlab
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.compute_face_normals" class="md-nav__link">
    <span class="md-ellipsis">
      
        compute_face_normals
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.compute_vertex_normals" class="md-nav__link">
    <span class="md-ellipsis">
      
        compute_vertex_normals
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.create_voxels" class="md-nav__link">
    <span class="md-ellipsis">
      
        create_voxels
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.cut_mesh_point_loop" class="md-nav__link">
    <span class="md-ellipsis">
      
        cut_mesh_point_loop
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.cut_mesh_with_meshlib" class="md-nav__link">
    <span class="md-ellipsis">
      
        cut_mesh_with_meshlib
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.depth2color" class="md-nav__link">
    <span class="md-ellipsis">
      
        depth2color
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.detect_boundary_points" class="md-nav__link">
    <span class="md-ellipsis">
      
        detect_boundary_points
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.equidistant_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        equidistant_mesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.face_labels_to_vertex_labels" class="md-nav__link">
    <span class="md-ellipsis">
      
        face_labels_to_vertex_labels
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.face_probs_to_vertex_probs" class="md-nav__link">
    <span class="md-ellipsis">
      
        face_probs_to_vertex_probs
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.farthest_point_sampling" class="md-nav__link">
    <span class="md-ellipsis">
      
        farthest_point_sampling
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="farthest_point_sampling">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.farthest_point_sampling--102000" class="md-nav__link">
    <span class="md-ellipsis">
      
        自动分10批，每批采2000点
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.algorithm.farthest_point_sampling--5000" class="md-nav__link">
    <span class="md-ellipsis">
      
        单批采5000点
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.farthest_point_sampling_by_open3d" class="md-nav__link">
    <span class="md-ellipsis">
      
        farthest_point_sampling_by_open3d
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.fill_hole_with_center" class="md-nav__link">
    <span class="md-ellipsis">
      
        fill_hole_with_center
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.fix_component_by_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        fix_component_by_meshlab
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.fix_floater_by_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        fix_floater_by_meshlab
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.fix_invalid_by_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        fix_invalid_by_meshlab
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.fix_topology_by_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        fix_topology_by_meshlab
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.furthestsampling_jit" class="md-nav__link">
    <span class="md-ellipsis">
      
        furthestsampling_jit
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.get_axis_rotation" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_axis_rotation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.get_gaussian_heatmap" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_gaussian_heatmap
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.get_obb_box" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_obb_box
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.get_obb_box_max_min" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_obb_box_max_min
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.get_pca_rotation" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_pca_rotation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.get_pca_transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_pca_transform
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.harmonic_by_igl" class="md-nav__link">
    <span class="md-ellipsis">
      
        harmonic_by_igl
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.hole_filling_by_Radial" class="md-nav__link">
    <span class="md-ellipsis">
      
        hole_filling_by_Radial
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.isotropic_remeshing_by_acvd" class="md-nav__link">
    <span class="md-ellipsis">
      
        isotropic_remeshing_by_acvd
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.isotropic_remeshing_by_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        isotropic_remeshing_by_meshlab
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.labels2colors" class="md-nav__link">
    <span class="md-ellipsis">
      
        labels2colors
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.labels_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        labels_mapping
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.line_project_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        line_project_mesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.mesh2sdf" class="md-nav__link">
    <span class="md-ellipsis">
      
        mesh2sdf
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.mesh_uv_wrap" class="md-nav__link">
    <span class="md-ellipsis">
      
        mesh_uv_wrap
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.normal2color" class="md-nav__link">
    <span class="md-ellipsis">
      
        normal2color
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.resample_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        resample_mesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.restore_transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        restore_transform
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.sample_sdf_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        sample_sdf_mesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.sample_sharp_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        sample_sharp_mesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.save_np_json" class="md-nav__link">
    <span class="md-ellipsis">
      
        save_np_json
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.show_gaussian_heatmap" class="md-nav__link">
    <span class="md-ellipsis">
      
        show_gaussian_heatmap
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.simplify_by_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        simplify_by_meshlab
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.subdivide_loop_by_trimesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        subdivide_loop_by_trimesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.vertex_labels_to_face_labels" class="md-nav__link">
    <span class="md-ellipsis">
      
        vertex_labels_to_face_labels
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.algorithm.voxel2array" class="md-nav__link">
    <span class="md-ellipsis">
      
        voxel2array
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        dental_tools
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.convert_fdi2idx" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_fdi2idx
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.convert_labels2color" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_labels2color
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.cut_crown_with_meshlib" class="md-nav__link">
    <span class="md-ellipsis">
      
        cut_crown_with_meshlib
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.cut_mesh_point_loop_crow" class="md-nav__link">
    <span class="md-ellipsis">
      
        cut_mesh_point_loop_crow
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.cut_with_ribbon" class="md-nav__link">
    <span class="md-ellipsis">
      
        cut_with_ribbon
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.deform_and_merge_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        deform_and_merge_mesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.get_mesh_side_area" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_mesh_side_area
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.labels2colors_freeze" class="md-nav__link">
    <span class="md-ellipsis">
      
        labels2colors_freeze
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.subdivide_with_pts" class="md-nav__link">
    <span class="md-ellipsis">
      
        subdivide_with_pts
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.dental_tools.transform_crown" class="md-nav__link">
    <span class="md-ellipsis">
      
        transform_crown
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.sindremesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        sindremesh
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        SindreMesh
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SindreMesh">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.center" class="md-nav__link">
    <span class="md-ellipsis">
      
        center
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.faces_area" class="md-nav__link">
    <span class="md-ellipsis">
      
        faces_area
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.faces_barycentre" class="md-nav__link">
    <span class="md-ellipsis">
      
        faces_barycentre
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.faces_vertices" class="md-nav__link">
    <span class="md-ellipsis">
      
        faces_vertices
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_adj_list" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_adj_list
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_adj_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_adj_matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_edges" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_edges
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.nfaces" class="md-nav__link">
    <span class="md-ellipsis">
      
        nfaces
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.npoints" class="md-nav__link">
    <span class="md-ellipsis">
      
        npoints
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_dict" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_dict
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_json" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_json
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_meshlab
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_open3d" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_open3d
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_open3d_t" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_open3d_t
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_trimesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_trimesh
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_vedo" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_vedo
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_vedo_pointcloud" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_vedo_pointcloud
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __repr__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.apply_inv_transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        apply_inv_transform
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.apply_transform" class="md-nav__link">
    <span class="md-ellipsis">
      
        apply_transform
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.apply_transform_normals" class="md-nav__link">
    <span class="md-ellipsis">
      
        apply_transform_normals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.check" class="md-nav__link">
    <span class="md-ellipsis">
      
        check
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.clean" class="md-nav__link">
    <span class="md-ellipsis">
      
        clean
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.clone" class="md-nav__link">
    <span class="md-ellipsis">
      
        clone
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.compute_normals" class="md-nav__link">
    <span class="md-ellipsis">
      
        compute_normals
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.cut_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        cut_mesh
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.decimate" class="md-nav__link">
    <span class="md-ellipsis">
      
        decimate
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.fix_mesh" class="md-nav__link">
    <span class="md-ellipsis">
      
        fix_mesh
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_boundary" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_boundary
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_boundary_by_normal_angle" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_boundary_by_normal_angle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_boundary_by_ref_normal_angle" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_boundary_by_ref_normal_angle
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_color_mapping" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_color_mapping
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_curvature" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_curvature
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_curvature_meshlab" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_curvature_meshlab
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_faces_labels" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_faces_labels
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_near_idx" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_near_idx
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_normalize" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_normalize
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_texture" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_texture
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_unused_vertices" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_unused_vertices
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.get_uv" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_uv
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.homogenize" class="md-nav__link">
    <span class="md-ellipsis">
      
        homogenize
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.load" class="md-nav__link">
    <span class="md-ellipsis">
      
        load
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.print_o3d" class="md-nav__link">
    <span class="md-ellipsis">
      
        print_o3d
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.remove_degenerate_faces" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_degenerate_faces
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.remove_faces_by_vertex_indices" class="md-nav__link">
    <span class="md-ellipsis">
      
        remove_faces_by_vertex_indices
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.rotate_xyz" class="md-nav__link">
    <span class="md-ellipsis">
      
        rotate_xyz
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        sample
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.save" class="md-nav__link">
    <span class="md-ellipsis">
      
        save
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.scale_xyz" class="md-nav__link">
    <span class="md-ellipsis">
      
        scale_xyz
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.set_faces_labels" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_faces_labels
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.set_vertex_labels" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_vertex_labels
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.shift_xyz" class="md-nav__link">
    <span class="md-ellipsis">
      
        shift_xyz
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.show" class="md-nav__link">
    <span class="md-ellipsis">
      
        show
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.split_component" class="md-nav__link">
    <span class="md-ellipsis">
      
        split_component
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.subdivison" class="md-nav__link">
    <span class="md-ellipsis">
      
        subdivison
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.texture2colors" class="md-nav__link">
    <span class="md-ellipsis">
      
        texture2colors
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_pytorch3d" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_pytorch3d
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.to_torch" class="md-nav__link">
    <span class="md-ellipsis">
      
        to_torch
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#utils3d.sindremesh.SindreMesh.update_geometry" class="md-nav__link">
    <span class="md-ellipsis">
      
        update_geometry
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.vedo_tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        vedo_tools
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.vedo_tools.matrix3d_by_vedo" class="md-nav__link">
    <span class="md-ellipsis">
      
        matrix3d_by_vedo
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="matrix3d_by_vedo">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#utils3d.vedo_tools.matrix3d_by_vedo.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#utils3d.vedo_tools.show_matrix_by_vedo" class="md-nav__link">
    <span class="md-ellipsis">
      
        show_matrix_by_vedo
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api_2" class="md-nav__link">
    <span class="md-ellipsis">
      
        神经网络API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers" class="md-nav__link">
    <span class="md-ellipsis">
      
        layers
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.AdaIN" class="md-nav__link">
    <span class="md-ellipsis">
      
        AdaIN
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.CrossAttentionDecoder" class="md-nav__link">
    <span class="md-ellipsis">
      
        CrossAttentionDecoder
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CrossAttentionDecoder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.layers.CrossAttentionDecoder.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.DropPath" class="md-nav__link">
    <span class="md-ellipsis">
      
        DropPath
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DropPath">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.layers.DropPath.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.layers.DropPath.extra_repr" class="md-nav__link">
    <span class="md-ellipsis">
      
        extra_repr
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.layers.DropPath.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.FourierEmbedder" class="md-nav__link">
    <span class="md-ellipsis">
      
        FourierEmbedder
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FourierEmbedder">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.layers.FourierEmbedder.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.layers.FourierEmbedder.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.layers.FourierEmbedder.get_dims" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_dims
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.GEGLU" class="md-nav__link">
    <span class="md-ellipsis">
      
        GEGLU
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.MLP" class="md-nav__link">
    <span class="md-ellipsis">
      
        MLP
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="MLP">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.layers.MLP.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.MultiheadAttention" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiheadAttention
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.MultiheadCrossAttention" class="md-nav__link">
    <span class="md-ellipsis">
      
        MultiheadCrossAttention
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.QKVMultiheadAttention" class="md-nav__link">
    <span class="md-ellipsis">
      
        QKVMultiheadAttention
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.QKVMultiheadCrossAttention" class="md-nav__link">
    <span class="md-ellipsis">
      
        QKVMultiheadCrossAttention
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.ResidualAttentionBlock" class="md-nav__link">
    <span class="md-ellipsis">
      
        ResidualAttentionBlock
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.ResidualCrossAttentionBlock" class="md-nav__link">
    <span class="md-ellipsis">
      
        ResidualCrossAttentionBlock
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.Transformer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Transformer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.layers.binarize" class="md-nav__link">
    <span class="md-ellipsis">
      
        binarize
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="binarize">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.layers.binarize.backward" class="md-nav__link">
    <span class="md-ellipsis">
      
        backward
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.layers.binarize.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses" class="md-nav__link">
    <span class="md-ellipsis">
      
        losses
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.BinaryFocalLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        BinaryFocalLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BinaryFocalLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.BinaryFocalLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.BoundaryLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        BoundaryLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="BoundaryLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.BoundaryLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.CenterLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        CenterLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CenterLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.CenterLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.ContourLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        ContourLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ContourLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.ContourLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.DiceLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        DiceLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="DiceLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.DiceLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.FocalLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        FocalLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="FocalLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.FocalLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.GramLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        GramLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="GramLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.GramLoss.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.GramLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.KoLeoLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        KoLeoLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="KoLeoLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.KoLeoLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.KoLeoLoss.pairwise_NNs_inner" class="md-nav__link">
    <span class="md-ellipsis">
      
        pairwise_NNs_inner
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.LossVariance" class="md-nav__link">
    <span class="md-ellipsis">
      
        LossVariance
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.LovaszLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        LovaszLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="LovaszLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.LovaszLoss.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.LovaszLoss.__repr__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __repr__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.LovaszLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.MulticlassDiceLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        MulticlassDiceLoss
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.PatchIoULoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        PatchIoULoss
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.SDFLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        SDFLoss
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SDFLoss">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.SDFLoss.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.SDFLoss.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.SSIMUtil" class="md-nav__link">
    <span class="md-ellipsis">
      
        SSIMUtil
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SSIMUtil">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.SSIMUtil.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.SSIMUtil.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.SSIMUtil.saliency_structure_consistency" class="md-nav__link">
    <span class="md-ellipsis">
      
        saliency_structure_consistency
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.SSIMUtil.ssim_average" class="md-nav__link">
    <span class="md-ellipsis">
      
        ssim_average
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.SSIMUtil.ssim_gaussian" class="md-nav__link">
    <span class="md-ellipsis">
      
        ssim_gaussian
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.SSIMUtil.ssim_loss" class="md-nav__link">
    <span class="md-ellipsis">
      
        ssim_loss
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.StructureLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        StructureLoss
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.StyleTransfer" class="md-nav__link">
    <span class="md-ellipsis">
      
        StyleTransfer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="StyleTransfer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ai.losses.StyleTransfer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.StyleTransfer.content_loss" class="md-nav__link">
    <span class="md-ellipsis">
      
        content_loss
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.StyleTransfer.forward" class="md-nav__link">
    <span class="md-ellipsis">
      
        forward
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.StyleTransfer.gram_matrix" class="md-nav__link">
    <span class="md-ellipsis">
      
        gram_matrix
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.StyleTransfer.style_loss" class="md-nav__link">
    <span class="md-ellipsis">
      
        style_loss
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ai.losses.StyleTransfer.tv_loss" class="md-nav__link">
    <span class="md-ellipsis">
      
        tv_loss
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.WeightMulticlassDiceLoss" class="md-nav__link">
    <span class="md-ellipsis">
      
        WeightMulticlassDiceLoss
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.losses.dice_loss_multi_classes" class="md-nav__link">
    <span class="md-ellipsis">
      
        dice_loss_multi_classes
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.utils" class="md-nav__link">
    <span class="md-ellipsis">
      
        utils
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.utils.load_checkpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_checkpoint
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.utils.pca_color_by_feat" class="md-nav__link">
    <span class="md-ellipsis">
      
        pca_color_by_feat
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.utils.save_checkpoint" class="md-nav__link">
    <span class="md-ellipsis">
      
        save_checkpoint
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.utils.set_global_seeds" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_global_seeds
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#ai.utils.set_ssl" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_ssl
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api_3" class="md-nav__link">
    <span class="md-ellipsis">
      
        报告模块API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#report.report" class="md-nav__link">
    <span class="md-ellipsis">
      
        report
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#windowsapi" class="md-nav__link">
    <span class="md-ellipsis">
      
        Windows工具API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        tools
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.ip_bind" class="md-nav__link">
    <span class="md-ellipsis">
      
        ip_bind
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="ip_bind">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#win_tools.tools.ip_bind.set_ip" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_ip
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.tcp_mapping_qt" class="md-nav__link">
    <span class="md-ellipsis">
      
        tcp_mapping_qt
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.check_port" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_port
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.download_url_file" class="md-nav__link">
    <span class="md-ellipsis">
      
        download_url_file
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.exe2nsis" class="md-nav__link">
    <span class="md-ellipsis">
      
        exe2nsis
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.is_service_exists" class="md-nav__link">
    <span class="md-ellipsis">
      
        is_service_exists
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.kill_process_using_port" class="md-nav__link">
    <span class="md-ellipsis">
      
        kill_process_using_port
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.pip_install" class="md-nav__link">
    <span class="md-ellipsis">
      
        pip_install
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.py2pyd" class="md-nav__link">
    <span class="md-ellipsis">
      
        py2pyd
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.python_installer" class="md-nav__link">
    <span class="md-ellipsis">
      
        python_installer
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.tools.zip_extract" class="md-nav__link">
    <span class="md-ellipsis">
      
        zip_extract
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.taskbar" class="md-nav__link">
    <span class="md-ellipsis">
      
        taskbar
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#win_tools.taskbar.set_windows_alpha" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_windows_alpha
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api_4" class="md-nav__link">
    <span class="md-ellipsis">
      
        部署相关 API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.check_tools" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_tools
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.check_tools.timeit" class="md-nav__link">
    <span class="md-ellipsis">
      
        timeit
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.check_tools.check_gpu_info" class="md-nav__link">
    <span class="md-ellipsis">
      
        check_gpu_info
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        onnxruntime_deploy
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer" class="md-nav__link">
    <span class="md-ellipsis">
      
        OnnxInfer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="OnnxInfer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __call__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.convert_opset_version" class="md-nav__link">
    <span class="md-ellipsis">
      
        convert_opset_version
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.dynamic_input_shape" class="md-nav__link">
    <span class="md-ellipsis">
      
        dynamic_input_shape
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.fix_input_shape" class="md-nav__link">
    <span class="md-ellipsis">
      
        fix_input_shape
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.get_session" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_session
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.optimizer" class="md-nav__link">
    <span class="md-ellipsis">
      
        optimizer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.onnxruntime_deploy.OnnxInfer.test_performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        test_performance
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.python_share_memory" class="md-nav__link">
    <span class="md-ellipsis">
      
        python_share_memory
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.python_share_memory.SimpleSharedMemory" class="md-nav__link">
    <span class="md-ellipsis">
      
        SimpleSharedMemory
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="SimpleSharedMemory">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploy.python_share_memory.SimpleSharedMemory.get_status" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_status
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.python_share_memory.SimpleSharedMemory.read" class="md-nav__link">
    <span class="md-ellipsis">
      
        read
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.python_share_memory.SimpleSharedMemory.set_status" class="md-nav__link">
    <span class="md-ellipsis">
      
        set_status
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.python_share_memory.SimpleSharedMemory.write" class="md-nav__link">
    <span class="md-ellipsis">
      
        write
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.TenserRT_deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        TenserRT_deploy
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.TenserRT_deploy.TRTInfer" class="md-nav__link">
    <span class="md-ellipsis">
      
        TRTInfer
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="TRTInfer">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#deploy.TenserRT_deploy.TRTInfer.__call__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __call__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.TenserRT_deploy.TRTInfer.build_engine" class="md-nav__link">
    <span class="md-ellipsis">
      
        build_engine
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.TenserRT_deploy.TRTInfer.load_model" class="md-nav__link">
    <span class="md-ellipsis">
      
        load_model
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deploy.TenserRT_deploy.TRTInfer.test_performance" class="md-nav__link">
    <span class="md-ellipsis">
      
        test_performance
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.opset_deploy" class="md-nav__link">
    <span class="md-ellipsis">
      
        opset_deploy
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.opset_deploy.grid_sample" class="md-nav__link">
    <span class="md-ellipsis">
      
        grid_sample
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.opset_deploy.grid_sample_2d" class="md-nav__link">
    <span class="md-ellipsis">
      
        grid_sample_2d
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deploy.opset_deploy.grid_sample_3d" class="md-nav__link">
    <span class="md-ellipsis">
      
        grid_sample_3d
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#api_5" class="md-nav__link">
    <span class="md-ellipsis">
      
        日志工具 API
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general.logs" class="md-nav__link">
    <span class="md-ellipsis">
      
        logs
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#general.logs.CustomLogger" class="md-nav__link">
    <span class="md-ellipsis">
      
        CustomLogger
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CustomLogger">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#general.logs.CustomLogger.__init__" class="md-nav__link">
    <span class="md-ellipsis">
      
        __init__
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#general.logs.CustomLogger.get_logger" class="md-nav__link">
    <span class="md-ellipsis">
      
        get_logger
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  


  
  


<h1 id="api">API文档</h1>
<hr />
<ul>
<li><a href="#api文档">API文档</a></li>
<li><a href="#lmdb模块api">LMDB模块API</a></li>
<li><a href="#三维算法api">三维算法API</a></li>
<li><a href="#神经网络api">神经网络API</a></li>
<li><a href="#报告模块api">报告模块API</a></li>
<li><a href="#windows工具api">Windows工具API</a></li>
<li><a href="#部署相关-api">部署相关 API</a></li>
<li><a href="#日志工具-api">日志工具 API</a></li>
</ul>
<p>本页自动汇总 sindre 库主要模块的全部 API，支持自动文档与交互查询。</p>
<hr />
<h2 id="lmdbapi"><a id="lmdb模块api">LMDB模块API</a></h2>


<div class="doc doc-object doc-module">



<a id="lmdb.pylmdb"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="lmdb.pylmdb.Base" class="doc doc-heading">
            <code>Base</code>


</h2>


    <div class="doc doc-contents ">



        <p>公共工具类</p>











  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="lmdb.pylmdb.Reader" class="doc doc-heading">
            <code>Reader</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="Base (lmdb.pylmdb.Base)" href="#lmdb.pylmdb.Base">Base</a></code></p>



        <p>用于读取包含张量(<code>numpy.ndarray</code>)数据集的对象。
这些张量是通过使用MessagePack从Lightning Memory-Mapped Database (LMDB)中读取的。</p>
<p>支持功能：
- 读取使用新键管理系统存储的数据
- 兼容旧版本数据库格式
- 支持多进程读取
- 支持任意类型元数据读取
- 支持读取已删除的样本</p>


<details class="note" open>
  <summary>Note</summary>
  <p>with Reader(dirpath='dataset.lmdb') as reader:
    # 基本读取操作
    sample = reader[5]                    # 读取第5个样本
    sample = reader.get_sample(5)         # 读取第5个样本
    samples = reader.get_samples([1,3,5]) # 读取多个样本</p>
<pre><code># 获取信息
mapping = reader.get_mapping()        # 获取键映射关系
data_keys = reader.get_data_keys(0)   # 获取数据键名
meta_keys = reader.get_meta_keys()    # 获取元数据键名

# 特殊功能
deleted_sample = reader.get_delete_sample(10)  # 读取已删除的样本
meta_value = reader.get_meta('key')   # 读取元数据
</code></pre>
</details>










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Reader.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">multiprocessing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>初始化</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dirpath </code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>包含LMDB的目录路径。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>multiprocessing </code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否开启多进程读取。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Reader.get_data_keys" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_data_keys</span><span class="p">(</span><span class="n">i</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>返回第i个样本在<code>data_db</code>中的所有键的列表
Args:
    i: 索引，默认检查第一个样本</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>list</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>数据键名列表</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Reader.get_data_size" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_data_size</span><span class="p">(</span><span class="n">i</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>计算LMDB中单个样本的存储大小（MB）
:param i: 索引
:return: 存储大小（MB）</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Reader.get_data_specification" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_data_specification</span><span class="p">(</span><span class="n">i</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>返回第i个样本的所有数据对象的规范。
规范包括形状和数据类型。这假设每个数据对象都是<code>numpy.ndarray</code>。
Args:
    i: 索引
Returns:
    dict: 数据规范字典</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Reader.get_data_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_data_value</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>返回第i个样本对应于输入键的值。
该值从<code>data_db</code>中检索。
因为每个样本都存储在一个msgpack中,所以在返回值之前,我们需要先读取整个msgpack。
Args:
    i: 索引
    key: 该索引的键（支持多层路径，如"mesh.v"）
Returns:
    对应的值
Raises:
    KeyError: 键不存在或路径无效时抛出</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Reader.get_delete_sample" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_delete_sample</span><span class="p">(</span><span class="n">physical_key</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>读取已删除的样本数据（通过物理键）</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>physical_key</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>物理键值</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>已删除的样本数据</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>如果物理键不存在或未被标记为删除</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Reader.get_dict_keys" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_dict_keys</span><span class="p">(</span><span class="n">nested_dict</span><span class="p">,</span> <span class="n">parent_key</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">sep</span><span class="o">=</span><span class="s1">&#39;.&#39;</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>提取嵌套字典中所有层级键，用分隔符连接后返回列表</p>
<p>:param nested_dict: 输入的嵌套字典
:param parent_key: 父级键（递归时使用，外部调用无需传参）
:param sep: 键的分隔符，默认 "."
:return: 扁平键列表（如 ['mesh.v', 'mesh.f']）</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Reader.get_mapping" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_mapping</span><span class="p">(</span><span class="n">phy2log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>获取逻辑索引与物理键的映射关系</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>phy2log</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True=物理键到逻辑索引的映射关系，False=逻辑索引到物理键的映射关系</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>映射关系 {物理键: 逻辑索引} or {逻辑索引: 物理键}</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Reader.get_meta" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_meta</span><span class="p">(</span><span class="n">key</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>从元数据库读取任意类型的数据</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>键名</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>存储的数据，如果不存在则返回None</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Reader.get_meta_keys" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_meta_keys</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">



    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="set">set</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>获取元数据库所有键</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Reader.get_sample" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_sample</span><span class="p">(</span><span class="n">i</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>从<code>data_db</code>返回第i个样本（逻辑索引）
Args:
    i: 逻辑索引
Returns:
    dict: 样本数据字典
Raises:
    IndexError: 如果索引超出范围</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Reader.get_samples" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_samples</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>list所有连续样本
Args:
    keys: 需要返回的索引对应的数据</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>list</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>所有样本组成的列表</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="IndexError">IndexError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>如果索引范围超出边界</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="lmdb.pylmdb.ReaderList" class="doc doc-heading">
            <code>ReaderList</code>


</h2>


    <div class="doc doc-contents ">



        <p>组合多个LMDB数据库进行统一读取的类，提供序列协议的接口</p>
<p>该类用于将多个LMDB数据库合并为一个逻辑数据集，支持通过索引访问和获取长度。
内部维护数据库索引映射表和真实索引映射表，实现跨数据库的透明访问。</p>


<p><span class="doc-section-title">属性：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="lmdb.pylmdb.ReaderList.db_list">db_list</span></code></td>
            <td>
                  <code><span title="List">List</span>[<a class="autorefs autorefs-internal" title="Reader (lmdb.pylmdb.Reader)" href="#lmdb.pylmdb.Reader">Reader</a>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>存储打开的LMDB数据库实例列表</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="lmdb.pylmdb.ReaderList.db_mapping">db_mapping</span></code></td>
            <td>
                  <code><span title="List">List</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>索引到数据库索引的映射表，每个元素表示对应索引数据所在的数据库下标</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="lmdb.pylmdb.ReaderList.real_idx_mapping">real_idx_mapping</span></code></td>
            <td>
                  <code><span title="List">List</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>索引到数据库内真实索引的映射表，每个元素表示数据在对应数据库中的原始索引</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.ReaderList.__del__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__del__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>析构函数，自动调用close方法释放资源</p>
<p>注意：不保证析构函数会被及时调用，建议显式调用close()</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.ReaderList.__getitem__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__getitem__</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>通过索引获取数据条目</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>idx</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>数据条目在组合数据集中的逻辑索引</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>object</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>对应位置的数据条目，具体类型取决于LMDB存储的数据格式</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="IndexError">IndexError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>当索引超出组合数据集范围时抛出</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.ReaderList.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">db_path_list</span><span class="p">,</span> <span class="n">multiprocessing</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>初始化组合数据库读取器</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>db_path_list</code>
            </td>
            <td>
                  <code><span title="List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>LMDB数据库文件路径列表，按顺序加载每个数据库</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.ReaderList.__len__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__len__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>获取组合数据集的总条目数</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>所有LMDB数据库的条目数之和</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.ReaderList.close" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">close</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>关闭所有打开的LMDB数据库连接</p>
<p>该方法应在使用完毕后显式调用，确保资源正确释放</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="lmdb.pylmdb.ReaderSSD" class="doc doc-heading">
            <code>ReaderSSD</code>


</h2>


    <div class="doc doc-contents ">



        <p>针对SSD优化的LMDB数据库读取器，支持高效随机访问</p>
<p>该类针对SSD存储特性优化，每次读取时动态打开数据库连接，
适合需要高并发随机访问的场景，可充分利用SSD的IOPS性能。</p>


<p><span class="doc-section-title">属性：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="lmdb.pylmdb.ReaderSSD.db_len">db_len</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>数据库条目总数</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="lmdb.pylmdb.ReaderSSD.db_path">db_path</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>LMDB数据库文件路径</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="lmdb.pylmdb.ReaderSSD.multiprocessing">multiprocessing</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否启用多进程模式</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.ReaderSSD.__getitem__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__getitem__</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>通过索引获取单个数据条目</p>
<p>每次调用时动态打开数据库连接，读取完成后立即关闭。
适合随机访问模式，特别是在SSD存储上。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>idx</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>数据条目索引</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>object</code></td>            <td>
                  <code><span title="object">object</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>索引对应的数据条目</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="IndexError">IndexError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>当索引超出有效范围时抛出</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.ReaderSSD.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">db_path</span><span class="p">,</span> <span class="n">multiprocessing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>初始化SSD优化的LMDB读取器</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>db_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>LMDB数据库文件路径</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>multiprocessing</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否启用多进程支持。
启用后将允许在多个进程中同时打开数据库连接。默认为False。</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.ReaderSSD.__len__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__len__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>获取数据库的总条目数</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>数据库中的条目总数</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.ReaderSSD.get_batch" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_batch</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>批量获取多个数据条目</p>
<p>优化的批量读取接口，在一个数据库连接中读取多个条目，
减少频繁打开/关闭连接的开销。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>indices</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>数据条目索引列表</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[object]: 索引对应的数据条目列表</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="IndexError">IndexError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>当任何索引超出有效范围时抛出</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="lmdb.pylmdb.ReaderSSDList" class="doc doc-heading">
            <code>ReaderSSDList</code>


</h2>


    <div class="doc doc-contents ">



        <p>组合多个SSD优化的LMDB数据库进行统一读取的类，提供序列协议的接口</p>
<p>该类用于将多个SSD优化的LMDB数据库合并为一个逻辑数据集，支持通过索引访问和获取长度。
内部维护数据库索引映射表和真实索引映射表，实现跨数据库的透明访问，同时保持SSD优化特性。</p>


<p><span class="doc-section-title">属性：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="lmdb.pylmdb.ReaderSSDList.db_path_list">db_path_list</span></code></td>
            <td>
                  <code><span title="List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>LMDB数据库文件路径列表</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="lmdb.pylmdb.ReaderSSDList.db_mapping">db_mapping</span></code></td>
            <td>
                  <code><span title="List">List</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>索引到数据库索引的映射表，每个元素表示对应索引数据所在的数据库下标</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="lmdb.pylmdb.ReaderSSDList.real_idx_mapping">real_idx_mapping</span></code></td>
            <td>
                  <code><span title="List">List</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>索引到数据库内真实索引的映射表，每个元素表示数据在对应数据库中的原始索引</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="lmdb.pylmdb.ReaderSSDList.multiprocessing">multiprocessing</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否启用多进程模式</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.ReaderSSDList.__getitem__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__getitem__</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>通过索引获取数据条目</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>idx</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>数据条目在组合数据集中的逻辑索引</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>object</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>对应位置的数据条目，具体类型取决于LMDB存储的数据格式</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="IndexError">IndexError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>当索引超出组合数据集范围时抛出</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.ReaderSSDList.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">db_path_list</span><span class="p">,</span> <span class="n">multiprocessing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>初始化组合SSD优化数据库读取器</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>db_path_list</code>
            </td>
            <td>
                  <code><span title="List">List</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>LMDB数据库文件路径列表，按顺序加载每个数据库</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>multiprocessing</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否启用多进程支持。默认为False。</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.ReaderSSDList.__len__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__len__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>获取组合数据集的总条目数</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>int</code></td>            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>所有LMDB数据库的条目数之和</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.ReaderSSDList.get_batch" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_batch</span><span class="p">(</span><span class="n">indices</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>批量获取多个数据条目</p>
<p>对同一数据库中的索引进行分组，然后使用对应数据库的get_batch方法批量读取，
减少频繁打开/关闭连接的开销。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>indices</code>
            </td>
            <td>
                  <code><span title="list">list</span>[<span title="int">int</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>数据条目索引列表</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>list[object]: 索引对应的数据条目列表</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="IndexError">IndexError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>当任何索引超出有效范围时抛出</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="lmdb.pylmdb.Writer" class="doc doc-heading">
            <code>Writer</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><a class="autorefs autorefs-internal" title="Base (lmdb.pylmdb.Base)" href="#lmdb.pylmdb.Base">Base</a></code></p>



        <p>用于将数据集的对象 ('numpy.ndarray') 写入闪电内存映射数据库 (LMDB),并带有MessagePack压缩。</p>
<p>功能特点：
- 支持数据的保存、修改、删除、插入操作
- 使用双键管理系统：物理键和逻辑键分离
- 标记删除而非物理删除，支持数据恢复
- 兼容旧版本数据库格式
- 支持多进程模式</p>


<details class="note" open>
  <summary>Note</summary>
  <p>db = Writer(dirpath=r'datasets/lmdb.db', map_size_limit=1024*100)</p>
<h3 id="lmdb.pylmdb.Writer--_1">元数据操作</h3>
<p>db.put_meta_("描述信息", "xxxx")
db.put_meta_("元信息",{"version”:"1.0.0","list":[1,2]})
db.put_meta_("列表",[1,2,3])</p>
<h3 id="lmdb.pylmdb.Writer--_2">基本操作</h3>
<p>data = {xx:np.array(xxx)}
db.put_sample(data)                    # 在末尾添加样本
db.insert_sample(5, data)             # 在指定位置插入样本
db.change_sample(3, data)              # 修改指定位置的样本
db.delete_sample(2)                    # 标记删除指定位置的样本
db.restore_sample(10)                  # 恢复已删除的样本
db.close()</p>
</details>










  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="lmdb.pylmdb.Writer.physical_size" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">physical_size</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>物理存储大小</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="lmdb.pylmdb.Writer.size" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">size</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>数据库大小（有效样本数）- 与 nb_samples 保持一致</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Writer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">dirpath</span><span class="p">,</span> <span class="n">map_size_limit</span><span class="p">,</span> <span class="n">multiprocessing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>初始化</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dirpath</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>应该写入LMDB的目录的路径。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>map_size_limit</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>LMDB的map大小,单位为MB。必须足够大以捕获打算存储在LMDB中所有数据。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Writer.change_sample" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">change_sample</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="n">safe_model</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>修改键值</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>键</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sample</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>字典类型数据</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>safe_model</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>安全模式,如果开启,则修改会提示;</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Writer.close" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">close</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>关闭环境。
在关闭之前,将样本数写入<code>meta_db</code>,使所有打开的迭代器、游标和事务无效。</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Writer.delete_sample" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">delete_sample</span><span class="p">(</span><span class="n">key</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>删除指定逻辑索引位置的样本（标记删除）</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>要删除的逻辑索引位置</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Writer.get_mapping" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_mapping</span><span class="p">(</span><span class="n">phy2log</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>获取逻辑索引与物理键的映射关系
Args:
    phy2log:True=物理键到逻辑索引的映射关系，False=逻辑索引到物理键的映射关系</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>映射关系{物理键: 逻辑索引} or {逻辑索引: 物理键}</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Writer.insert_sample" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">insert_sample</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">sample</span><span class="p">,</span> <span class="n">safe_model</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>在指定逻辑索引位置插入样本</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>要插入的逻辑索引位置</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>sample</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>要插入的样本数据</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>safe_model</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>安全模式，如果开启则会提示确认</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Writer.put_meta" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">put_meta</span><span class="p">(</span><span class="n">key</span><span class="p">,</span> <span class="n">value</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>将任意类型的数据写入元数据库</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>键名</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>任意可序列化的数据（支持str、list、dict等）</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Writer.put_sample" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">put_sample</span><span class="p">(</span><span class="n">sample</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>将传入内容的键和值放入<code>data_db</code> LMDB中。</p>


<details class="notes" open>
  <summary>Notes</summary>
  <p>put_samples({'key1': value1, 'key2': value2, ...})</p>
</details>

<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>sample</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>由str为键,numpy类型为值组成</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="lmdb.pylmdb.Writer.restore_sample" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">restore_sample</span><span class="p">(</span><span class="n">physical_key</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>恢复标记删除的样本</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>physical_key</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>要恢复的物理键</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="lmdb.pylmdb.fix_lmdb_windows_size" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fix_lmdb_windows_size</span><span class="p">(</span><span class="n">dirpath</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>修复lmdb在windows系统上创建大小异常问题(windows上lmdb没法实时变化大小);</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>dirpath</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>lmdb目录路径</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="lmdb.pylmdb.get_data_size" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_data_size</span><span class="p">(</span><span class="n">samples</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>检测sample字典的大小</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>samples</code>
            </td>
            <td>
                  <code><span title="_type_">_type_</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>字典类型数据</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


<details class="return" open>
  <summary>Return</summary>
  <p>gb_required : 字典大小(GB)</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="lmdb.pylmdb.get_data_value" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_data_value</span><span class="p">(</span><span class="n">current</span><span class="p">,</span> <span class="n">key</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>key</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>该索引的键（支持多层路径，如"mesh.v"）</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:
    对应的值
Raises:
    KeyError: 键不存在或路径无效时抛出</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="lmdb.pylmdb.merge_lmdb" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">merge_lmdb</span><span class="p">(</span><span class="n">target_dir</span><span class="p">,</span> <span class="n">source_dirs</span><span class="p">,</span> <span class="n">map_size_limit</span><span class="p">,</span> <span class="n">multiprocessing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>将多个源LMDB数据库合并到目标数据库</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>target_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>目标LMDB路径</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>source_dirs</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>源LMDB路径列表</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>map_size_limit</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>目标LMDB的map大小限制（MB）</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>multiprocessing</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否启用多进程模式</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <pre><code># 合并示例
MergeLmdb(
    target_dir=&quot;merged.db&quot;,
    source_dirs=[&quot;db1&quot;, &quot;db2&quot;],
    map_size_limit=1024  # 1GB
)
</code></pre>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="lmdb.pylmdb.parallel_write" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">parallel_write</span><span class="p">(</span><span class="n">output_dir</span><span class="p">,</span> <span class="n">file_list</span><span class="p">,</span> <span class="n">process</span><span class="p">,</span> <span class="n">map_size_limit</span><span class="p">,</span> <span class="n">num_processes</span><span class="p">,</span> <span class="n">multiprocessing</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">temp_root</span><span class="o">=</span><span class="s1">&#39;./tmp&#39;</span><span class="p">,</span> <span class="n">cleanup_temp</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>多进程处理JSON文件并写入LMDB</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>output_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>最终输出LMDB路径</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>file_list</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>文件路径列表</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>process</code>
            </td>
            <td>
                  <code><span title="callable">callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>数据处理函数</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>map_size_limit</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>总LMDB的map大小限制(MB)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>num_processes</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>进程数量</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>multiprocessing</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否启用多进程模式</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>temp_root</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>临时目录根路径（默认./tmp，尽量写在SSD,方便快速转换</p>
              </div>
            </td>
            <td>
                  <code>&#39;./tmp&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>cleanup_temp</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否清理临时目录（默认True）</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <pre><code>
def process(json_file):
    with open(json_file,&quot;r&quot;) as f:
        data = json.loads(f.read())
    id=data[&quot;id_patient&quot;]
    jaw = data[&quot;jaw&quot;]
    labels = data[&quot;labels&quot;]

    mesh = vedo.load( json_file.replace(&quot;.json&quot;,&quot;.obj&quot;))
    vertices = mesh.vertices
    faces = mesh.cells


    out = {
        'mesh_faces':faces,
        'mesh_vertices':vertices,
        'vertex_labels':labels,
        &quot;jaw&quot;:jaw,

    }
    return out



if __name__ == '__main__':
    json_file_list = glob.glob(&quot;./*/*/*.json&quot;)
    print(len(json_file_list))

    sindre.lmdb.parallel_write(
        output_dir=dirpath,
        file_list=json_file_list[:16],
        process=process,
        map_size_limit=map_size_limit,
        num_processes=8,
        temp_root=&quot;./processing_temp&quot;, 
        cleanup_temp=False  
    )


</code></pre>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="lmdb.pylmdb.split_lmdb" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">split_lmdb</span><span class="p">(</span><span class="n">source_dir</span><span class="p">,</span> <span class="n">target_dirs</span><span class="p">,</span> <span class="n">map_size_limit</span><span class="p">,</span> <span class="n">multiprocessing</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>将源LMDB数据库均匀拆分到多个目标数据库</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>源LMDB路径</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_dirs</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>目标LMDB路径列表</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>map_size_limit</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>每个目标LMDB的map大小限制（MB）</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>multiprocessing</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否启用多进程模式</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <pre><code>SplitLmdb(
source_dir=&quot;large.db&quot;,
target_dirs=[f&quot;split_{i}.db&quot; for i in range(4)],
map_size_limit=256
)
</code></pre>
</details>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="lmdb.tools"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="lmdb.tools.check_filesystem_is_ext4" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_filesystem_is_ext4</span><span class="p">(</span><span class="n">current_path</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>检测硬盘是否为ext4</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>current_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>需要检测的磁盘路径</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>True</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>当前为ext4磁盘，支持自适应容量分配</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>False</code></td>            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>当前不是ext4磁盘，不支持自适应容量分配</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="lmdb.tools.decode_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">decode_data</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>解码一个序列化的数据对象。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>obj </code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>Python 字典
一个描述序列化数据对象的字典。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="lmdb.tools.decode_str" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">decode_str</span><span class="p">(</span><span class="n">obj</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;strict&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>将输入字节对象解码为字符串。</p>
<h4 id="lmdb.tools.decode_str--parameters">Parameters</h4>
<p>obj : byte object
encoding : string
    Default is <code>utf-8</code>.
errors : string
   指定应如何处理编码错误。默认为 <code>strict</code>.</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="lmdb.tools.encode_data" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">encode_data</span><span class="p">(</span><span class="n">obj</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>返回一个字典，该字典包含对输入数据对象进行编码后的信息。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>obj </code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>数据对象
如果传入的数据对象既不是字符串也不是普通的 NumPy 数组，
则该对象将按原样返回。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="lmdb.tools.encode_str" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">encode_str</span><span class="p">(</span><span class="n">string</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s1">&#39;utf-8&#39;</span><span class="p">,</span> <span class="n">errors</span><span class="o">=</span><span class="s1">&#39;strict&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>返回输入字符串的编码字节对象。</p>
<h4 id="lmdb.tools.encode_str--parameters">Parameters</h4>
<p>string : string
encoding : string
    Default is <code>utf-8</code>.
errors : string
   指定应如何处理编码错误。默认为 <code>strict</code>.</p>


    </div>

</div>



  </div>

    </div>

</div><hr />
<h2 id="api_1"><a id="三维算法api">三维算法API</a></h2>


<div class="doc doc-object doc-module">



<a id="utils3d.algorithm"></a>
    <div class="doc doc-contents first">

        <pre><code>@path   ：sindre_package -&gt; tools.py
@IDE    ：PyCharm
@Author ：sindre
@Email  ：yx@mviai.com
@Date   ：2024/6/17 15:38
@Version: V0.1
@License: (C)Copyright 2021-2023 , UP3D
@Reference: 
@History:
- 2024/6/17 :

(一)本代码的质量保证期（简称“质保期”）为上线内 1个月，质保期内乙方对所代码实行包修改服务。
(二)本代码提供三包服务（包阅读、包编译、包运行）不包熟
(三)本代码所有解释权归权归神兽所有，禁止未开光盲目上线
(四)请严格按照保养手册对代码进行保养，本代码特点：
      i. 运行在风电、水电的机器上
     ii. 机器机头朝东，比较喜欢太阳的照射
    iii. 集成此代码的人员，应拒绝黄赌毒，容易诱发本代码性能越来越弱
声明：未履行将视为自主放弃质保期，本人不承担对此产生的一切法律后果
如有问题，热线: 114

</code></pre>










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="utils3d.algorithm.A_Star" class="doc doc-heading">
            <code>A_Star</code>


</h2>


    <div class="doc doc-contents ">













  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.A_Star.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">faces</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>使用A*算法在三维三角网格中寻找最短路径</p>
<p>参数：
vertices: numpy数组，形状为(N,3)，表示顶点坐标
faces: numpy数组，形状为(M,3)，表示三角形面的顶点索引</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.A_Star.build_adjacency" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_adjacency</span><span class="p">(</span><span class="n">faces</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>构建顶点的邻接表</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.A_Star.run" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">run</span><span class="p">(</span><span class="n">start_idx</span><span class="p">,</span> <span class="n">end_idx</span><span class="p">,</span> <span class="n">vertex_weights</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>使用A*算法在三维三角网格中寻找最短路径</p>
<p>参数：
start_idx: 起始顶点的索引
end_idx: 目标顶点的索引
vertex_weights: 可选，形状为(N,)，顶点权重数组，默认为None</p>
<p>返回：
path: 列表，表示从起点到终点的顶点索引路径，若不可达返回None</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="utils3d.algorithm.BestKFinder" class="doc doc-heading">
            <code>BestKFinder</code>


</h2>


    <div class="doc doc-contents ">













  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.BestKFinder.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">labels</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>初始化类，接收点云网格数据和对应的标签</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>points</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>点云数据，形状为 (N, 3)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labels</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>点云标签，形状为 (N,)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.BestKFinder.calculate_boundary_points" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">calculate_boundary_points</span><span class="p">(</span><span class="n">k</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>计算边界点
:param k: 最近邻点的数量
:return: 边界点的标签数组</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.BestKFinder.evaluate_boundary_points" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">evaluate_boundary_points</span><span class="p">(</span><span class="n">bd_labels</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>评估边界点的分布合理性
这里简单使用边界点的数量占比作为评估指标
:param bd_labels: 边界点的标签数组
:return: 评估得分</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.BestKFinder.find_best_k" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">find_best_k</span><span class="p">(</span><span class="n">k_values</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>找出最佳的最近邻点大小</p>
<p>:param k_values: 待测试的最近邻点大小列表
:return: 最佳的最近邻点大小</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="utils3d.algorithm.GraphCutWithMesh" class="doc doc-heading">
            <code>GraphCutWithMesh</code>


</h2>


    <div class="doc doc-contents ">













  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.GraphCutWithMesh.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">tri_mesh</span><span class="p">,</span> <span class="n">softmax_labels</span><span class="p">,</span> <span class="n">smooth_factor</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">keep_label</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>基于图切优化器,支持顶点/面片级别优化</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>tri_mesh</code>
            </td>
            <td>
                  <code><span title="trimesh.Trimesh">Trimesh</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>trimesh.Trimesh格式的mesh</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>softmax_labels</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>softmax后的概率矩阵，形状为：
                        - 顶点模式：(Nv, class_num)
                        - 面片模式：(Nf, class_num)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>smooth_factor</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>平滑强度系数，越大边界越平滑。默认值为 None，此时会自动计算。</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>keep_label</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否保持优化前后标签类别一致性，默认值为 True。</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.GraphCutWithMesh.get_weights" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_weights</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>计算顶点间边权</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.GraphCutWithMesh.refine" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">refine</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>执行优化并返回优化后的标签索引</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="utils3d.algorithm.LabelUpsampler" class="doc doc-heading">
            <code>LabelUpsampler</code>


</h2>


    <div class="doc doc-contents ">













  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.LabelUpsampler.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">classifier_type</span><span class="o">=</span><span class="s1">&#39;gbdt&#39;</span><span class="p">,</span> <span class="n">knn_params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;n_neighbors&#39;</span><span class="p">:</span> <span class="mi">3</span><span class="p">},</span> <span class="n">gbdt_params</span><span class="o">=</span><span class="p">{</span><span class="s1">&#39;n_estimators&#39;</span><span class="p">:</span> <span class="mi">100</span><span class="p">,</span> <span class="s1">&#39;max_depth&#39;</span><span class="p">:</span> <span class="mi">5</span><span class="p">})</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>标签上采样，用于将简化后的标签映射回原始网格/点云</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>classifier_type </code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>str, optional (default='gbdt')
分类器类型，支持 'knn', 'gbdt', 'hgbdt', 'rfc'</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>knn_params </code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dict, optional
KNN分类器参数,默认 {'n_neighbors': 3}</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>gbdt_params </code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>dict, optional
GBDT/HGBDT/RFC分类器参数,默认 {'n_estimators': 100, 'max_depth': 5}</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.LabelUpsampler.fit" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fit</span><span class="p">(</span><span class="n">train_features</span><span class="p">,</span> <span class="n">train_labels</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>训练模型: 建议：
点云： 按照[x,y,z,nx,ny,nz,cv] # 顶点坐标+顶点法线+曲率+其他特征
网格： 按照[bx,by,bz,fnx,fny,fny] # 面片重心坐标+面片法线+其他特征</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.LabelUpsampler.predict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">predict</span><span class="p">(</span><span class="n">query_features</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>预测标签，输入特征应与训练特征一一对应；</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="utils3d.algorithm.MeshRandomWalks" class="doc doc-heading">
            <code>MeshRandomWalks</code>


</h2>


    <div class="doc doc-contents ">













  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.MeshRandomWalks.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">faces</span><span class="p">,</span> <span class="n">face_normals</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>随机游走分割网格</p>
<p>参考：https://www.cnblogs.com/shushen/p/5144823.html</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vertices</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>顶点坐标数组，形状为(N, 3)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>faces</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>面片索引数组，形状为(M, 3)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>face_normals</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>可选的面法线数组，形状为(M, 3)</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Note:</p>
<pre><code>```python

    # 加载并预处理网格
    mesh = vedo.load(r"upper_jaws.ply")
    mesh.compute_normals()

    # 创建分割器实例
    segmenter = MeshRandomWalks(
        vertices=mesh.points,
        faces=mesh.faces(),
        face_normals=mesh.celldata["Normals"]
    )

    head = [1063,3571,1501,8143]
    tail = [7293,3940,8021]

    # 执行分割
    labels, unmarked = segmenter.segment(
        foreground_seeds=head,
        background_seeds=tail
    )
    p1 = vedo.Points(mesh.points[head],r=20,c="red")
    p2 = vedo.Points(mesh.points[tail],r=20,c="blue")
    # 可视化结果
    mesh.pointdata["labels"] = labels
    mesh.cmap("jet", "labels")
    vedo.show([mesh,p1,p2], axes=1, viewup='z').close()
```
</code></pre>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.MeshRandomWalks.segment" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">segment</span><span class="p">(</span><span class="n">foreground_seeds</span><span class="p">,</span> <span class="n">background_seeds</span><span class="p">,</span> <span class="n">vertex_weights</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>执行网格分割</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>foreground_seeds: 前景种子点索引列表
background_seeds: 背景种子点索引列表
vertex_weights: 可选的顶点权重矩阵（稀疏矩阵）</p>
</details>

<details class="返回" open>
  <summary>返回</summary>
  <p>labels: 顶点标签数组 (0: 背景，1: 前景)
unmarked: 未标记顶点的布尔掩码</p>
</details>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="utils3d.algorithm.NpEncoder" class="doc doc-heading">
            <code>NpEncoder</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="json.JSONEncoder">JSONEncoder</span></code></p>





<details class="notes" open>
  <summary>Notes</summary>
  <p>将numpy类型编码成json格式</p>
</details>










  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="utils3d.algorithm.UnifiedLabelRefiner" class="doc doc-heading">
            <code>UnifiedLabelRefiner</code>


</h2>


    <div class="doc doc-contents ">













  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.UnifiedLabelRefiner.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">faces</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">class_num</span><span class="p">,</span> <span class="n">smooth_factor</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">temperature</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>统一多标签优化器，支持顶点/面片概率输入</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vertices</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>顶点坐标数组，形状 (Nv, 3)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>faces</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>面片索引数组，形状 (Nf, 3)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labels</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>初始标签，可以是类别索引（一维）(n,) 或概率矩阵，形状为：
                        - 顶点模式：(Nv, class_num) 
                        - 面片模式：(Nf, class_num)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>class_num</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>总类别数量（必须等于labels.shape[1]）</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>smooth_factor</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>边权缩放因子，默认自动计算</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>temperature</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>标签软化温度（None表示不软化）</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.algorithm.UnifiedLabelRefiner.refine" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">refine</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>执行优化并返回优化后的标签索引</p>


    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.add_base" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">add_base</span><span class="p">(</span><span class="n">vd_mesh</span><span class="p">,</span> <span class="n">value_z</span><span class="o">=-</span><span class="mi">20</span><span class="p">,</span> <span class="n">close_base</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">return_strips</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>给网格边界z方向添加底座</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vd_mesh</code>
            </td>
            <td>
                  <code><span title="_type_">_type_</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>vedo.mesh</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>value_z</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>底座长度. Defaults to -20.</p>
              </div>
            </td>
            <td>
                  <code>-20</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>close_base</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>底座是否闭合. Defaults to True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>return_strips</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否返回添加的网格. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>_type_</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>添加底座的网格</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.angle_axis_np" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">angle_axis_np</span><span class="p">(</span><span class="n">angle</span><span class="p">,</span> <span class="n">axis</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>计算绕给定轴旋转指定角度的旋转矩阵。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>angle</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>旋转角度（弧度）。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>axis</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>旋转轴，形状为 (3,) 的 numpy 数组。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>np.array: 3x3 的旋转矩阵，数据类型为 np.float32。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.apply_transform" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">apply_transform</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">transform</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>对4*4矩阵进行应用
</code></pre>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vertices</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>顶点</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>transform</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>4*4 矩阵</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>变换后的顶点</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.array2voxel" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">array2voxel</span><span class="p">(</span><span class="n">voxel_array</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>将固定大小的三维数组转换为 voxel_grid_index 数组。
该函数接收一个形状为 (voxel_size, voxel_size, voxel_size) 的三维数组，
找出其中值为 1 的元素的索引，将这些索引组合成一个形状为 (N, 3) 的数组，
类似于从 open3d 的 o3d.voxel_grid.get_voxels () 方法获取的结果。
</code></pre>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>voxel_array</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>形状为 (voxel_size, voxel_size, voxel_size) 的三维数组，数组中值为 1 的位置代表对应的体素网格索引。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>
<pre><code>numpy.ndarray: 形状为 (N, 3) 的数组，表示三维空间中每个体素的网格索引，类似于从 o3d.voxel_grid.get_voxels () 方法获取的结果。
</code></pre>
<p>Example:</p>
<pre><code>```python

# 获取 grid_index_array
voxel_list = voxel_grid.get_voxels()
grid_index_array = list(map(lambda x: x.grid_index, voxel_list))
grid_index_array = np.array(grid_index_array)
voxel_grid_array = voxel2array(grid_index_array, voxel_size=32)
grid_index_array = array2voxel(voxel_grid_array)
pointcloud_array = grid_index_array  # 0.03125 是体素大小
pc = o3d.geometry.PointCloud()
pc.points = o3d.utility.Vector3dVector(pointcloud_array)
o3d_voxel = o3d.geometry.VoxelGrid.create_from_point_cloud(pc, voxel_size=0.05)
o3d.visualization.draw_geometries([pcd, cc, o3d_voxel])


```
</code></pre>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.collision_depth" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">collision_depth</span><span class="p">(</span><span class="n">mesh1</span><span class="p">,</span> <span class="n">mesh2</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>计算两个网格间的碰撞深度或最小间隔距离。</p>
<p>使用VTK的带符号距离算法检测碰撞状态：
- 正值：两网格分离，返回值为最近距离
- 零值：表面恰好接触
- 负值：发生穿透，返回值为最大穿透深度（绝对值）</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mesh1</code>
            </td>
            <td>
                  <code><span title="vedo.Mesh">Mesh</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>第一个网格对象，需包含顶点数据</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>mesh2</code>
            </td>
            <td>
                  <code><span title="vedo.Mesh">Mesh</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>第二个网格对象，需包含顶点数据</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>float</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>带符号的距离值，符号表示碰撞状态，绝对值表示距离量级</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>当VTK计算管道出现错误时抛出</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <ol>
<li>当输入网格顶点数&gt;1000时会产生性能警告</li>
<li>返回float('inf')表示计算异常或无限远距离</li>
</ol>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.color_mapping" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">color_mapping</span><span class="p">(</span><span class="n">value</span><span class="p">,</span> <span class="n">vmin</span><span class="o">=-</span><span class="mi">1</span><span class="p">,</span> <span class="n">vmax</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>将向量映射为颜色，遵从vcg映射标准</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.compute_curvature_by_igl" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compute_curvature_by_igl</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;Mean&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>用igl计算平均曲率并归一化</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>v</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>顶点;</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>f</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>面片:</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>返回曲率类型</p>
              </div>
            </td>
            <td>
                  <code>&#39;Mean&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>vertex_curvature (numpy.ndarray): 顶点曲率数组，形状为 (n,)，其中 n 是顶点的数量。
每个元素表示对应顶点的曲率。</li>
</ul>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Notes:</p>
<pre><code>输出: PD1 (主方向1), PD2 (主方向2), PV1 (主曲率1), PV2 (主曲率2)

pd1 : #v by 3 maximal curvature direction for each vertex
pd2 : #v by 3 minimal curvature direction for each vertex
pv1 : #v by 1 maximal curvature value for each vertex
pv2 : #v by 1 minimal curvature value for each vertex
</code></pre>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.compute_curvature_by_meshlab" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compute_curvature_by_meshlab</span><span class="p">(</span><span class="n">ms</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>使用 MeshLab 计算网格的曲率和顶点颜色。</p>
<p>该函数接收一个顶点矩阵和一个面矩阵作为输入，创建一个 MeshLab 的 MeshSet 对象，
并将输入的顶点和面添加到 MeshSet 中。然后，计算每个顶点的主曲率方向，
最后获取顶点颜色矩阵和顶点曲率数组。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ms</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pymeshlab格式mesh;</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>vertex_colors (numpy.ndarray): 顶点颜色矩阵，形状为 (n, 3)，其中 n 是顶点的数量。
每个元素的范围是 [0, 255]，表示顶点的颜色。</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>vertex_curvature (numpy.ndarray): 顶点曲率数组，形状为 (n,)，其中 n 是顶点的数量。
每个元素表示对应顶点的曲率。</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>new_vertex (numpy.ndarray): 新的顶点数组，形状为 (n,)，其中 n 是顶点的数量。</li>
</ul>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.compute_face_normals" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compute_face_normals</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">faces</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>计算三角形网格中每个面的法线
Args:
    vertices: 顶点数组，形状为 (N, 3)
    faces: 面数组，形状为 (M, 3)，每个面由三个顶点索引组成
Returns:
    面法线数组，形状为 (M, 3)</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.compute_vertex_normals" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compute_vertex_normals</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">faces</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>计算三角形网格中每个顶点的法线
Args:
    vertices: 顶点数组，形状为 (N, 3)
    faces: 面数组，形状为 (M, 3)，每个面由三个顶点索引组成
Returns:
    顶点法线数组，形状为 (N, 3)</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.create_voxels" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">create_voxels</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">resolution</span><span class="o">=</span><span class="mi">256</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>通过顶点创建阵列方格体素
</code></pre>
<p>Args:
    vertices: 顶点
    resolution:  分辨率</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>返回 res**3 的顶点 , mc重建需要的缩放及位移</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>v, f = mcubes.marching_cubes(data.reshape(256, 256, 256), 0)</p>
<p>m=vedo.Mesh([v*scale+translation, f])</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.cut_mesh_point_loop" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cut_mesh_point_loop</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">pts</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>基于vtk+dijkstra实现的基于线的分割;</p>
<p>线支持在网格上或者网格外；</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mesh</code>
            </td>
            <td>
                  <code><span title="_type_">_type_</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>待切割网格</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pts</code>
            </td>
            <td>
                  <code><span title="vedo.Points">Points</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>切割线</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>invert</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>选择保留外部. Defaults to False.</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>_type_</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>切割后的网格</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.cut_mesh_with_meshlib" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cut_mesh_with_meshlib</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">loop_points</span><span class="p">,</span> <span class="n">get_bigger_part</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">smooth_boundary</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>沿指定的点环切割网格并返回选定的部分</p>
<p>给定的点环投影到网格表面，创建闭合轮廓，沿此轮廓切割网格，
并返回网格的较大或较小部分。可选择对切割边界进行平滑处理。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>v</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入网格的顶点坐标，形状为 (N, 3)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>f</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入网格的面索引，形状为 (M, 3)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>loop_points</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>定义切割环的3D点列表，每个点为 [x, y, z],，形状为 (B, 3)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>get_bigger_part</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>如果为True，返回切割后较大的部分；否则返回较小的部分</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>smooth_boundary</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>如果为True，对切割边界进行平滑处理</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>tuple</code></td>            <td>
                  <code><span title="tuple">tuple</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>包含:
kept_mesh_v: 切割后网格的顶点坐标，形状为 (P, 3)
kept_mesh_f: 切割后网格的面索引，形状为 (Q, 3)
removed_mesh_v: 其他网格的顶点坐标，形状为 (P, 3)
removed_mesh_f: 其他网格的面索引，形状为 (Q, 3)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="RuntimeError">RuntimeError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>如果切割操作失败或产生无效结果</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <p>kept_mesh_v,kept_mesh_f,removed_mesh_v,removed_mesh_f = cut_mesh(vertices, faces, margin_points, get_bigger_part=True, smooth_boundary=True)</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.depth2color" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">depth2color</span><span class="p">(</span><span class="n">depth</span><span class="p">,</span> <span class="n">bg_color</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>将深度值转换为彩色图像</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>depth</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>深度值</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>彩色深度图像，形状为(H, W, 3)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.detect_boundary_points" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">detect_boundary_points</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">labels</span><span class="p">,</span> <span class="n">config</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>基于局部标签一致性的边界点检测函数</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>points</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>点云坐标，形状为 (N, 3)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labels</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>点云标签，形状为 (N,)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>config</code>
            </td>
            <td>
                  <code><span title="dict">dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>配置参数，包含:
- knn_k: KNN查询的邻居数（默认40）
- bdl_ratio: 边界判定阈值（默认0.8）</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>np.ndarray: 边界点掩码，形状为 (N,)，边界点为True，非边界点为False</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.equidistant_mesh" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">equidistant_mesh</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">d</span><span class="o">=-</span><span class="mf">0.01</span><span class="p">,</span> <span class="n">merge</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>此函数用于创建一个与输入网格等距的新网格，可选择将新网格与原网格合并。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mesh</code>
            </td>
            <td>
                  <code><span title="vedo.Mesh">Mesh</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入的三维网格对象。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>d</code>
            </td>
            <td>
                  <code>(<span title="float">float</span>, <span title="可选">可选</span>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>顶点偏移的距离，默认为 -0.01。负值表示向内偏移，正值表示向外偏移。</p>
              </div>
            </td>
            <td>
                  <code>-0.01</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>merge</code>
            </td>
            <td>
                  <code>(<span title="bool">bool</span>, <span title="可选">可选</span>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否将原网格和偏移后的网格合并，默认为 True。</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>vedo.Mesh 或 vedo.Assembly: 如果 merge 为 True，则返回合并后的网格；否则返回偏移后的网格。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.face_labels_to_vertex_labels" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">face_labels_to_vertex_labels</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">faces</span><span class="p">,</span> <span class="n">face_labels</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>将三角网格的面片标签转换成顶点标签</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vertices</code>
            </td>
            <td>
                  <code><span title="Union">Union</span>[<span title="numpy.array">array</span>, <span title="list">list</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>牙颌三角网格</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>faces</code>
            </td>
            <td>
                  <code><span title="Union">Union</span>[<span title="numpy.array">array</span>, <span title="list">list</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>面片标签</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>face_labels</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>顶点标签</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>顶点属性</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.face_probs_to_vertex_probs" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">face_probs_to_vertex_probs</span><span class="p">(</span><span class="n">faces</span><span class="p">,</span> <span class="n">face_probs</span><span class="p">,</span> <span class="n">n_vertices</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>将面片概率矩阵转换为顶点概率矩阵（使用max方法）</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.farthest_point_sampling" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">farthest_point_sampling</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">n_sample</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span> <span class="n">auto_seg</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">n_batches</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>最远点采样，支持自动分批处理</p>
<p>根据参数配置，自动决定是否将输入点云分割为多个批次进行处理。当处理大规模数据时，
建议启用auto_seg以降低内存需求并利用并行加速。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vertices</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入点云坐标，形状为(N, 3)的浮点数组</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>n_sample</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>总采样点数，当auto_seg=False时生效。默认2000</p>
              </div>
            </td>
            <td>
                  <code>2000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>auto_seg</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否启用自动分批处理(提速，但会丢失全局距离信息)。默认False</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>n_batches</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>自动分批时的批次数量。默认10</p>
              </div>
            </td>
            <td>
                  <code>10</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>np.ndarray: 采样点索引数组，形状为(n_sample,)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>当输入数组维度不正确时抛出</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>典型场景:
- 小规模数据（如5万点以下）: auto_seg=False，单批次处理
- 大规模数据（如百万级点）: auto_seg=True，分10批处理，每批采样2000点</p>
<p>示例:</p>
<blockquote>
<blockquote>
<blockquote>
<p>vertices = np.random.rand(100000, 3).astype(np.float32)</p>
<h3 id="utils3d.algorithm.farthest_point_sampling--102000">自动分10批，每批采2000点</h3>
<p>indices = farthest_point_sampling(vertices, auto_seg=True)</p>
<h3 id="utils3d.algorithm.farthest_point_sampling--5000">单批采5000点</h3>
<p>indices = farthest_point_sampling(vertices, n_sample=5000)</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.farthest_point_sampling_by_open3d" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">farthest_point_sampling_by_open3d</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">n_sample</span><span class="o">=</span><span class="mi">2000</span><span class="p">,</span> <span class="n">device</span><span class="o">=</span><span class="s1">&#39;CPU:0&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>基于Open3D的最远点采样算法，返回采样点的索引数组</p>
<p>该函数利用Open3D库的高效实现，从输入的点云中按最远点策略采样指定数量的点，
并返回这些采样点在原始点云中的索引，便于后续还原采样前的点云数据。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vertices</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入点云数据，形状为[N, 3]的numpy数组，其中N为点的数量，3对应xyz坐标</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>n_sample</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>期望采样的点数量，默认值为2000</p>
              </div>
            </td>
            <td>
                  <code>2000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>device</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>计算设备，可选"CPU:0"或"CUDA:1"等，默认使用CPU</p>
              </div>
            </td>
            <td>
                  <code>&#39;CPU:0&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>采样点的索引数组，形状为[n_sample]的numpy数组，元素为原始点云的索引值</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code>若设备指定无效（如CUDA不可用时指定&#34;CUDA</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>1"），会抛出设备初始化错误</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.fill_hole_with_center" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fill_hole_with_center</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">boundaries</span><span class="p">,</span> <span class="n">return_vf</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>用中心点方式强制补洞
</code></pre>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mesh</code>
            </td>
            <td>
                  <code><span title="_type_">_type_</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>vedo.Mesh</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>boundaries</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>vedo.boundaries</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>return_vf</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否返回补洞的mesh</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.fix_component_by_meshlab" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fix_component_by_meshlab</span><span class="p">(</span><span class="n">ms</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>移除低质量的组件，如小的连通分量,移除网格中的浮动小组件（小面积不连通部分）。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ms</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pymeshlab.MeshSet 对象</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pymeshlab.MeshSet 对象</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.fix_floater_by_meshlab" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fix_floater_by_meshlab</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">nbfaceratio</span><span class="o">=</span><span class="mf">0.1</span><span class="p">,</span> <span class="n">nonclosedonly</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>移除网格中的浮动小组件（小面积不连通部分）。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mesh</code>
            </td>
            <td>
                  <code><span title="pymeshlab.MeshSet">MeshSet</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入的网格模型。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>nbfaceratio</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>面积比率阈值，小于该比率的部分将被移除。</p>
              </div>
            </td>
            <td>
                  <code>0.1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>nonclosedonly</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否仅移除非封闭部分。</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="vedo.Mesh">Mesh</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pymeshlab.MeshSet: 移除浮动小组件后的网格模型。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.fix_invalid_by_meshlab" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fix_invalid_by_meshlab</span><span class="p">(</span><span class="n">ms</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>处理冗余元素，如合移除重复面和顶点等, 清理无效的几何结构，如折叠面、零面积面和未引用的顶点。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ms</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pymeshlab.MeshSet 对象</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pymeshlab.MeshSet 对象</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.fix_topology_by_meshlab" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fix_topology_by_meshlab</span><span class="p">(</span><span class="n">ms</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>修复拓扑问题，如 T 型顶点、非流形边和非流形顶点，并对齐不匹配的边界。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ms</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pymeshlab.MeshSet 对象</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pymeshlab.MeshSet 对象</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.furthestsampling_jit" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">furthestsampling_jit</span><span class="p">(</span><span class="n">xyz</span><span class="p">,</span> <span class="n">offset</span><span class="p">,</span> <span class="n">new_offset</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>使用并行批次处理的最远点采样算法实现</p>
<p>该方法将输入点云划分为多个批次，每个批次独立进行最远点采样。通过维护最小距离数组，
确保每次迭代选择距离已选点集最远的新点，实现高效采样。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>xyz</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入点云坐标，形状为(N, 3)的C连续float32数组</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>offset</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>原始点云的分段偏移数组，表示每个批次的结束位置。例如[1000, 2000]表示两个批次</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_offset</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>采样后的分段偏移数组，表示每个批次的目标采样数。例如[200, 400]表示每批采200点</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>np.ndarray: 采样点索引数组，形状为(total_samples,)，其中total_samples = new_offset[-1]</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>实现特点:
- 使用Numba并行加速，支持多核并行处理不同批次
- 采用平方距离计算避免开方运算
- 每批次独立初始化距离数组，避免跨批次干扰
- 自动处理边界情况（空批次或零采样批次）</p>
<p>典型调用流程:</p>
<blockquote>
<blockquote>
<blockquote>
<p>n_total = 10000
offset = np.array([1000, 2000, ..., 10000], dtype=np.int32)
new_offset = np.array([200, 400, ..., 2000], dtype=np.int32)
sampled_indices = furthestsampling_jit(xyz, offset, new_offset)</p>
</blockquote>
</blockquote>
</blockquote>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.get_axis_rotation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_axis_rotation</span><span class="p">(</span><span class="n">axis</span><span class="p">,</span> <span class="n">angle</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>绕着指定轴获取3*3旋转矩阵
</code></pre>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>axis</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>轴向,[0,0,1]</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>angle</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>旋转角度,90.0</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>3*3旋转矩阵</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.get_gaussian_heatmap" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_gaussian_heatmap</span><span class="p">(</span><span class="n">points</span><span class="p">,</span> <span class="n">keypoints</span><span class="p">,</span> <span class="n">sigma</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">normalize</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>生成高斯热图（仅支持单样本点云和关键点）</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>points: 点云坐标，形状为 (N, 3)
keypoints: 关键点坐标，形状为 (K, 3)
sigma: 高斯标准差，控制热图扩散范围，小则精确定位，大则抗干扰强
normalize: 是否归一化每个关键点的热图（最大值为1）</p>
</details>

<details class="返回" open>
  <summary>返回</summary>
  <p>heatmap: 热图数组，形状为 (N, K)</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.get_obb_box" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_obb_box</span><span class="p">(</span><span class="n">x_pts</span><span class="p">,</span> <span class="n">z_pts</span><span class="p">,</span> <span class="n">vertices</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>给定任意2个轴向交点及顶点，返回定向包围框mesh
Args:
    x_pts: x轴交点
    z_pts: z轴交点
    vertices: 所有顶点</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Tuple">Tuple</span>[<span title="list">list</span>, <span title="list">list</span>, <span title="numpy.array">array</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>包围框的顶点， 面片索引，3*3旋转矩阵</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.get_obb_box_max_min" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_obb_box_max_min</span><span class="p">(</span><span class="n">x_pts</span><span class="p">,</span> <span class="n">z_pts</span><span class="p">,</span> <span class="n">z_max_pts</span><span class="p">,</span> <span class="n">z_min_pts</span><span class="p">,</span> <span class="n">x_max_pts</span><span class="p">,</span> <span class="n">x_min_pts</span><span class="p">,</span> <span class="n">y_max_pts</span><span class="p">,</span> <span class="n">y_min_pts</span><span class="p">,</span> <span class="n">center</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>给定任意2个轴向交点及最大/最小点，返回定向包围框mesh</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x_pts</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>x轴交点</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>z_pts</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>z轴交点</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>z_max_pts</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>最大z顶点</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>z_min_pts</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>最小z顶点</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_max_pts</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>最大x顶点</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x_min_pts</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>最小x顶点</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y_max_pts</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>最大y顶点</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>y_min_pts</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>最小y顶点</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>center</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>中心点</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="Tuple">Tuple</span>[<span title="list">list</span>, <span title="list">list</span>, <span title="numpy.array">array</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>包围框的顶点， 面片索引，3*3旋转矩阵</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.get_pca_rotation" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_pca_rotation</span><span class="p">(</span><span class="n">vertices</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>通过pca分析顶点，获取3*3旋转矩阵，并应用到顶点；
</code></pre>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vertices</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>三维顶点</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>应用旋转矩阵后的顶点</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.get_pca_transform" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_pca_transform</span><span class="p">(</span><span class="n">mesh</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>将输入的顶点数据根据曲率及PCA分析得到的主成分向量，
并转换成4*4变换矩阵。
</code></pre>


<details class="notes" open>
  <summary>Notes</summary>
  <p>必须为底部非封闭的网格</p>
</details>

<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mesh</code>
            </td>
            <td>
                  <code><span title="vedo.Mesh">Mesh</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>vedo网格对象</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>4*4 变换矩阵</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.harmonic_by_igl" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">harmonic_by_igl</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">map_vertices_to_circle</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>谐波参数化后的2D网格</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>v</code>
            </td>
            <td>
                  <code><span title="_type_">_type_</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>顶点</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>f</code>
            </td>
            <td>
                  <code><span title="_type_">_type_</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>面片</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>map_vertices_to_circle</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否映射到圆形（正方形)</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>uv,v_p: 创建参数化后的2D网格,3D坐标</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Note:</p>
<pre><code>```

# 创建空间索引
uv_kdtree = KDTree(uv)

# 初始化可视化系统
plt = Plotter(shape=(1, 2), axes=False, title="Interactive Parametrization")

# 创建网格对象
mesh_3d = Mesh([v, f]).cmap("jet", calculate_curvature(v, f)).lighting("glossy")
mesh_2d = Mesh([v_p, f]).wireframe(True).cmap("jet", calculate_curvature(v, f))

# 存储选中标记
markers_3d = []
markers_2d = []

def on_click(event):
    if not event.actor or event.actor not in [mesh_2d, None]:
        return
    if not hasattr(event, 'picked3d') or event.picked3d is None:
        return

    try:
        # 获取点击坐标
        uv_click = np.array(event.picked3d[:2])

        # 查找最近顶点
        _, idx = uv_kdtree.query(uv_click)
        v3d = v[idx]
        uv_point = uv[idx]  # 获取对应2D坐标


        # 创建3D标记（使用球体）
        marker_3d = Sphere(v3d, r=0.1, c='cyan', res=12)
        markers_3d.append(marker_3d)

        # 创建2D标记（使用大号点）
        marker_2d = Point(uv_point, c='magenta', r=10, alpha=0.8)
        markers_2d.append(marker_2d)

        # 更新视图
        plt.at(0).add(marker_3d)
        plt.at(1).add(marker_2d)
        plt.render()

    except Exception as e:
        log.info(f"Error processing click: {str(e)}")

plt.at(0).show(mesh_3d, "3D Visualization", viewup="z")
plt.at(1).show(mesh_2d, "2D Parametrization").add_callback('mouse_click', on_click)
plt.interactive().close()


```
</code></pre>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.hole_filling_by_Radial" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">hole_filling_by_Radial</span><span class="p">(</span><span class="n">boundary_coords</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>参考 </p>
<p>[https://www.cnblogs.com/shushen/p/5759679.html]</p>
<p>实现的最小角度法补洞法；</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>boundary_coords</code>
            </td>
            <td>
                  <code><span title="_type_">_type_</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>有序边界顶点</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>v,f: 修补后的曲面</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <pre><code class="language-python">
# 创建带孔洞的简单网格
s = vedo.load(r&quot;J10166160052_16.obj&quot;)
# 假设边界点即网格边界点
boundary =vedo.Spline((s.boundaries().join(reset=True).vertices),res=100)
# 通过边界点进行补洞
filled_mesh =vedo.Mesh(hole_filling(boundary.vertices))
# 渲染补洞后的曲面
vedo.show([filled_mesh,boundary,s.alpha(0.8)], bg='white').close()

</code></pre>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.isotropic_remeshing_by_acvd" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">isotropic_remeshing_by_acvd</span><span class="p">(</span><span class="n">vedo_mesh</span><span class="p">,</span> <span class="n">target_num</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">clean</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>对给定的 vedo 网格进行均质化处理，使其达到指定的目标面数。</p>
<p>该函数使用 pyacvd 库中的 Clustering 类对输入的 vedo 网格进行处理。
如果网格的顶点数小于等于目标面数，会先对网格进行细分，然后进行聚类操作，
最终生成一个面数接近目标面数的均质化网格。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vedo_mesh</code>
            </td>
            <td>
                  <code><span title="vedo.Mesh">Mesh</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入的 vedo 网格对象，需要进行均质化处理的网格。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_num</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>目标面数，即经过处理后网格的面数接近该值。
默认为 10000。</p>
              </div>
            </td>
            <td>
                  <code>10000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>clean</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>去除均匀化错误的点</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>vedo.Mesh: 经过均质化处理后的 vedo 网格对象，其面数接近目标面数。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>该函数依赖于 pyacvd 和 pyvista 库，使用前请确保这些库已正确安装。</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.isotropic_remeshing_by_meshlab" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">isotropic_remeshing_by_meshlab</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">target_edge_length</span><span class="o">=</span><span class="mf">0.5</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>使用 PyMeshLab 实现网格均匀化。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mesh</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入的网格对象 (pymeshlab.MeshSet)。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_edge_length</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>目标边长比例 %。</p>
              </div>
            </td>
            <td>
                  <code>0.5</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>iterations</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>迭代次数，默认为 1。</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="vedo.Mesh">Mesh</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>均匀化后的网格对象。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.labels2colors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">labels2colors</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>将labels转换成颜色标签
Args:
    labels: numpy类型,形状(N)对应顶点的标签；</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>RGBA颜色标签;</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.labels_mapping" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">labels_mapping</span><span class="p">(</span><span class="n">old_vertices</span><span class="p">,</span> <span class="n">old_faces</span><span class="p">,</span> <span class="n">new_vertices</span><span class="p">,</span> <span class="n">old_labels</span><span class="p">,</span> <span class="n">fast</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>将原始网格的标签属性精确映射到新网格</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>old_mesh(vedo) : 原始网格对象
new_mesh(vedo): 重网格化后的新网格对象
old_labels (np.ndarray): 原始顶点标签数组，形状为 (N,) </p>
</details>

<details class="返回" open>
  <summary>返回</summary>
  <p>new_labels (np.ndarray): 映射后的新顶点标签数组，形状为 (M,)</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.line_project_mesh" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">line_project_mesh</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">loop_points</span><span class="p">,</span> <span class="n">gen_new_edge</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>将输入的3D点环投影到网格表面，根据参数决定是生成新的切割边还是仅提取投影轮廓。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>v</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>网格顶点数组，形状为(N, 3)的浮点数组。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>f</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>网格面索引数组，形状为(M, 3)的整数数组。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>loop_points</code>
            </td>
            <td>
                  <code><span title="iterable">iterable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>3D点列表/数组，定义要投影到网格上的环状路径。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>gen_new_edge</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否生成新切割边。默认为True。
True: 在网格上生成新边并分割网格
False: 仅提取投影轮廓</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>tuple</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>包含四个元素的元组:
- res_pts (list): 投影轮廓的3D点列表，每个点为[x, y, z]
- res_pts_idx (list): 新生成边的顶点索引列表(仅当gen_new_edge=True时有效)
- res_v (np.ndarray): 处理后网格顶点数组(仅当gen_new_edge=True时返回新网格)
- res_f (np.ndarray): 处理后网格面索引数组(仅当gen_new_edge=True时返回新网格)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.mesh2sdf" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">mesh2sdf</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">size</span><span class="o">=</span><span class="mi">64</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>体素化网格，该函数适用于非水密网格（带孔的网格）、自相交网格、具有非流形几何体的网格以及具有方向不一致的面的网格。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>v</code>
            </td>
            <td>
                  <code><span title="array">array</span> - <span title="like">like</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>网格的顶点数组。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>f</code>
            </td>
            <td>
                  <code><span title="array">array</span> - <span title="like">like</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>网格的面数组。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>size</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>体素化的大小，默认为 64。</p>
              </div>
            </td>
            <td>
                  <code>64</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>array</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>体素化后的数组。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ImportError">ImportError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>如果未安装 'mesh-to-sdf' 库，会提示安装。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.mesh_uv_wrap" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">mesh_uv_wrap</span><span class="p">(</span><span class="n">mesh</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>对3D网格进行UV展开处理，使用xatlas库生成优化的UV坐标。</p>
<p>该函数接收一个trimesh网格或场景对象，将其转换为单个网格后，
使用xatlas算法进行参数化处理以生成UV坐标，最终返回带有UV信息的网格。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mesh</code>
            </td>
            <td>
                  <code><span title="trimesh.Trimesh">Trimesh</span> or <span title="trimesh.Scene">Scene</span> or <span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入的3D网格或mesh路径或场景对象。
如果是场景对象，会先合并为单个网格。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>trimesh.Trimesh: 带有生成的UV坐标的网格对象，顶点和面可能经过重新索引。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>当输入网格的面数超过500,000,000时抛出，不支持过大的网格处理。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="note" open>
  <summary>Note</summary>
  <p>处理过程中会使用xatlas.parametrize()进行UV展开，这可能会重新组织顶点和 faces索引。
生成的UV坐标会存储在网格的visual.uv属性中，可用于纹理映射等后续处理。</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.normal2color" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">normal2color</span><span class="p">(</span><span class="n">normal</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>将normal转换成颜色
Args:
    normal: 网格的法线</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(0-255)颜色</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.resample_mesh" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">resample_mesh</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">faces</span><span class="p">,</span> <span class="n">density</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_samples</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>在由顶点和面定义的网格表面上进行点云重采样。</p>
<ol>
<li>密度模式：根据单位面片面积自动计算总采样数</li>
<li>指定数量模式：直接指定需要采样的总点数</li>
</ol>
<p>该函数使用向量化操作高效地在网格表面进行均匀采样，采样密度由单位面积点数决定。
采样策略基于重心坐标系，采用分层随机抽样方法。</p>
<p>注意：
    零面积三角形会被自动跳过，因为不会分配采样点。</p>
<p>参考实现：
    https://chrischoy.github.io/research/barycentric-coordinate-for-mesh-sampling/</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vertices</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>网格顶点数组，形状为(V, 3)，V表示顶点数量</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>faces</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>三角形面片索引数组，形状为(F, 3)，数据类型应为整数</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>density</code>
            </td>
            <td>
                  <code>(<span title="float">float</span>, <span title="可选">可选</span>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>每单位面积的采样点数，默认为1</p>
              </div>
            </td>
            <td>
                  <code>1</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>num_samples</code>
            </td>
            <td>
                  <code>(<span title="int">int</span>, <span title="可选">可选</span>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>指定总采样点数，若提供则忽略density参数</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>numpy.ndarray: 重采样后的点云数组，形状为(N, 3)，N为总采样点数</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>采样点生成公式（重心坐标系）：
    P = (1 - √r₁)A + √r₁(1 - r₂)B + √r₁ r₂ C
其中：
- r₁, r₂ ∈ [0, 1) 为随机数
- A, B, C 为三角形顶点
- 该公式可确保在三角形表面均匀采样</p>
<p>算法流程：
1. 计算每个面的面积并分配采样点数
2. 通过随机舍入处理总点数误差
3. 使用向量化操作批量生成采样点</p>
</details>

<details class="references" open>
  <summary>References</summary>
  <p>[1] Barycentric coordinate system - https://en.wikipedia.org/wiki/Barycentric_coordinate_system</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.restore_transform" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">restore_transform</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">transform</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>根据提供的顶点及矩阵，进行逆变换(还原应用矩阵之前的状态）
</code></pre>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vertices</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>顶点</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>transform</code>
            </td>
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>4*4变换矩阵</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>还原后的顶点坐标</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.sample_sdf_mesh" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sample_sdf_mesh</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">number_of_points</span><span class="o">=</span><span class="mi">200000</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>在曲面附近不均匀地采样 SDF 点，该函数适用于非水密网格（带孔的网格）、自相交网格、具有非流形几何体的网格以及具有方向不一致的面的网格。
这是 DeepSDF 论文中提出和使用的方法。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>v</code>
            </td>
            <td>
                  <code><span title="array">array</span> - <span title="like">like</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>网格的顶点数组。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>f</code>
            </td>
            <td>
                  <code><span title="array">array</span> - <span title="like">like</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>网格的面数组。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>number_of_points</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>采样点的数量，默认为 200000。</p>
              </div>
            </td>
            <td>
                  <code>200000</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>tuple</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>包含采样点数组和对应的 SDF 值数组的元组。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ImportError">ImportError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>如果未安装 'mesh-to-sdf' 库，会提示安装。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.sample_sharp_mesh" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sample_sharp_mesh</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">num</span><span class="o">=</span><span class="mi">20000</span><span class="p">,</span> <span class="n">angle_threshold</span><span class="o">=</span><span class="mf">10.0</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>从网格的尖锐边缘采样点云,支持上采样;（阈值为角度，单位：度）
https://github.com/Tencent-Hunyuan/Hunyuan3D-2/blob/f8db63096c8282cb27354314d896feba5ba6ff8a/hy3dgen/shapegen/surface_loaders.py#L40
Args:
    mesh (trimesh.Trimesh): 输入网格
    num (int): 采样点数，默认16384
    angle_threshold (float): 尖锐度角度阈值（范围0~180度），值越大识别的尖锐边越“钝”，默认10度</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>samples</code></td>            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(num, 3) 采样点坐标</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>normals</code></td>            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(num, 3) 采样点法线</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.save_np_json" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save_np_json</span><span class="p">(</span><span class="n">output_path</span><span class="p">,</span> <span class="n">obj</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>保存np形式的json</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>output_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>保存路径</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>obj</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>保存对象</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.show_gaussian_heatmap" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">show_gaussian_heatmap</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">heatmap</span><span class="p">,</span> <span class="n">faces</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>用于渲染三维顶点的高斯热力图
Args:
    vertices: 顶点，形状为 (N, 3)
    heatmap: 热图数组，形状为 (N, K)
    faces: 可选面片,如无，则按照点云渲染</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.simplify_by_meshlab" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">simplify_by_meshlab</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">faces</span><span class="p">,</span> <span class="n">max_facenum</span><span class="o">=</span><span class="mi">30000</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>通过二次边折叠算法减少网格中的面数，简化模型。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mesh</code>
            </td>
            <td>
                  <code><span title="pymeshlab.MeshSet">MeshSet</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入的网格模型。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_facenum</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>简化后的目标最大面数，默认为 200000。</p>
              </div>
            </td>
            <td>
                  <code>30000</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="vedo.Mesh">Mesh</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pymeshlab.MeshSet: 简化后的网格模型。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.subdivide_loop_by_trimesh" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">subdivide_loop_by_trimesh</span><span class="p">(</span><span class="n">vertices</span><span class="p">,</span> <span class="n">faces</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">5</span><span class="p">,</span> <span class="n">max_face_num</span><span class="o">=</span><span class="mi">100000</span><span class="p">,</span> <span class="n">face_mask</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>对给定的顶点和面片进行 Loop 细分。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>vertices</code>
            </td>
            <td>
                  <code><span title="array">array</span> - <span title="like">like</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入的顶点数组，形状为 (n, 3)，其中 n 是顶点数量。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>faces</code>
            </td>
            <td>
                  <code><span title="array">array</span> - <span title="like">like</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入的面片数组，形状为 (m, 3)，其中 m 是面片数量。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>iterations</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>细分的迭代次数，默认为 5。</p>
              </div>
            </td>
            <td>
                  <code>5</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_face_num</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>细分过程中允许的最大面片数量，达到此数量时停止细分，默认为 100000。</p>
              </div>
            </td>
            <td>
                  <code>100000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>face_mask</code>
            </td>
            <td>
                  <code><span title="array">array</span> - <span title="like">like</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>面片掩码数组，用于指定哪些面片需要进行细分，默认为 None。</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>tuple</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>包含细分后的顶点数组、细分后的面片数组和面片掩码数组的元组。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>以下是一个示例代码，展示了如何使用该函数：</p>
<pre><code class="language-python"># 1. 获取每个点的最近表面点及对应面
face_indices = set()
kdtree = cKDTree(mesh.vertices)
for p in pts:
    # 查找半径2mm内的顶点
    vertex_indices = kdtree.query_ball_point(p, r=1.0)
    for v_idx in vertex_indices:
        # 获取包含这些顶点的面片
        faces = mesh.vertex_faces[v_idx]
        faces = faces[faces != -1]  # 去除无效索引
        face_indices.update(faces.tolist())
face_indices = np.array([[i] for i in list(face_indices)])
new_vertices, new_face, _ = subdivide_loop(v, f, face_mask=face_indices)
</code></pre>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.vertex_labels_to_face_labels" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">vertex_labels_to_face_labels</span><span class="p">(</span><span class="n">faces</span><span class="p">,</span> <span class="n">vertex_labels</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>将三角网格的顶点标签转换成面片标签，存在一个面片，多个属性，则获取出现最多的属性。
</code></pre>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>faces</code>
            </td>
            <td>
                  <code><span title="Union">Union</span>[<span title="numpy.array">array</span>, <span title="list">list</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>三角网格面片索引</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>vertex_labels</code>
            </td>
            <td>
                  <code><span title="Union">Union</span>[<span title="numpy.array">array</span>, <span title="list">list</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>顶点标签</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.array">array</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>面片属性</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.algorithm.voxel2array" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">voxel2array</span><span class="p">(</span><span class="n">grid_index_array</span><span class="p">,</span> <span class="n">voxel_size</span><span class="o">=</span><span class="mi">32</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>将 voxel_grid_index 数组转换为固定大小的三维数组。</p>
<p>该函数接收一个形状为 (N, 3) 的 voxel_grid_index 数组，
并将其转换为形状为 (voxel_size, voxel_size, voxel_size) 的三维数组。
其中，原 voxel_grid_index 数组中每个元素代表三维空间中的一个网格索引，
在转换后的三维数组中对应位置的值会被设为 1，其余位置为 0。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>grid_index_array</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>形状为 (N, 3) 的数组，
通常从 open3d 的 o3d.voxel_grid.get_voxels() 方法获取，
表示三维空间中每个体素的网格索引。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>voxel_size</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>转换后三维数组的边长，默认为 32。</p>
              </div>
            </td>
            <td>
                  <code>32</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>numpy.ndarray: 形状为 (voxel_size, voxel_size, voxel_size) 的三维数组，
其中原 voxel_grid_index 数组对应的网格索引位置值为 1，其余为 0。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <pre><code class="language-python"># 获取 grid_index_array
voxel_list = voxel_grid.get_voxels()
grid_index_array = list(map(lambda x: x.grid_index, voxel_list))
grid_index_array = np.array(grid_index_array)
voxel_grid_array = voxel2array(grid_index_array, voxel_size=32)
grid_index_array = array2voxel(voxel_grid_array)
pointcloud_array = grid_index_array  # 0.03125 是体素大小
pc = o3d.geometry.PointCloud()
pc.points = o3d.utility.Vector3dVector(pointcloud_array)
o3d_voxel = o3d.geometry.VoxelGrid.create_from_point_cloud(pc, voxel_size=0.05)
o3d.visualization.draw_geometries([pcd, cc, o3d_voxel])
</code></pre>
</details>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="utils3d.dental_tools"></a>
    <div class="doc doc-contents first">

        <p>专注于牙颌mesh的特殊实现</p>










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="utils3d.dental_tools.convert_fdi2idx" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">convert_fdi2idx</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>将口腔牙列的FDI编号(11-18,21-28/31-38,41-48)转换为(1-16),只支持单颌:
上颌：
- 右上(11-18) → 1-8
- 左上(21-28) → 9-16</p>
<p>下颌：
- 左下(31-38) → 1-8
- 右下(41-48) → 9-16
- 0或小于0    → 0</p>
<pre><code>          1 9
        2    10
      3        11
    4            12
  5                13
6                    14
</code></pre>
<p>7                        15
8                            16</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.dental_tools.convert_labels2color" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">convert_labels2color</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>将牙齿标签转换成RGBA颜色
</code></pre>


<details class="notes" open>
  <summary>Notes</summary>
  <p>只支持以下标签类型：</p>
<pre><code>upper_dict = [0, 18, 17, 16, 15, 14, 13, 12, 11, 21, 22, 23, 24, 25, 26, 27, 28]

lower_dict = [0, 48, 47, 46, 45, 44, 43, 42, 41, 31, 32, 33, 34, 35, 36, 37, 38]
</code></pre>
</details>

<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="Union">Union</span>[<span title="numpy.array">array</span>, <span title="list">list</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>属性</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>colors</code></td>            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>对应属性的RGBA类型颜色</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.dental_tools.cut_crown_with_meshlib" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cut_crown_with_meshlib</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">margin_points</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>使用边缘点分割牙冠网格模型，返回保留部分和移除部分。</p>
<p>该函数通过以下步骤实现牙冠分割：
1. 在输入网格中定位距离边缘线最近的连通区域
2. 使用边缘线切割该区域
3. 根据边界距离验证切割结果
4. 合并剩余网格组件</p>
<p>参数：
    mesh: vedo.Mesh对象，表示待分割的牙冠网格模型
    margin_points: np.ndarray数组，形状为(N,3)的边缘点集</p>
<p>返回：
    Tuple[vedo.Mesh, vedo.Mesh]:
        第一个Mesh为保留部分（牙冠主体）
        第二个Mesh为移除部分（牙龈区域）</p>
<p>异常：
    当边缘点与网格的最小距离超过1mm时触发断言错误</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.dental_tools.cut_mesh_point_loop_crow" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cut_mesh_point_loop_crow</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">pts</span><span class="p">,</span> <span class="n">error_show</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">invert</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>实现的基于线的牙齿冠分割;</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mesh</code>
            </td>
            <td>
                  <code><span title="_type_">_type_</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>待切割网格</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>pts</code>
            </td>
            <td>
                  <code><span title="vedo.Points">Points</span> / <span title="Line">Line</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>切割线</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>error_show</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>裁剪失败是否进行渲染. Defaults to True.</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>invert</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否取反；</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>_type_</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>切割后的网格</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.dental_tools.cut_with_ribbon" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cut_with_ribbon</span><span class="p">(</span><span class="n">mesh</span><span class="p">,</span> <span class="n">pts</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>使用点序列切割网格</p>
<p>参数:
pts: 切割点序列 (k, 3)</p>
<p>返回:
new_v: 切割后顶点
new_f: 切割后面</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.dental_tools.deform_and_merge_mesh" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">deform_and_merge_mesh</span><span class="p">(</span><span class="n">mesh_path</span><span class="p">,</span> <span class="n">base_mesh_path</span><span class="p">,</span> <span class="n">ref_direction</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">]),</span> <span class="n">angle_threshold</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">boundary_samples</span><span class="o">=</span><span class="mi">200</span><span class="p">,</span> <span class="n">non_boundary_samples</span><span class="o">=</span><span class="mi">500</span><span class="p">,</span> <span class="n">boundary_radius</span><span class="o">=</span><span class="mf">1.0</span><span class="p">,</span> <span class="n">seed</span><span class="o">=</span><span class="mi">1024</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>将网格变形并与基础网格合并,用于将AI生成闭合冠裁剪并拟合到基座上；</p>
<p>该函数：
    1. 基于参考方向的角度阈值处理输入网格
    2. 识别边界区域
    3. 生成变形控制点
    4. 将边界区域变形以匹配基础网格
    5. 将变形后的网格与基础网格合并</p>
<p>Notes:</p>
<p>'''
    # 自定义参考方向向量
    sm = SindreMesh(r"J10177170088_UpperJaw_gen.ply")
    custom_direction = np.array(sm.vertices[42734] - sm.vertices[48221])</p>
<pre><code>result_mesh = deform_and_merge_mesh(
    mesh_path=r"J10177170088_UpperJaw_gen.ply",
    base_mesh_path=r"17.ply",
    ref_direction=custom_direction,
    angle_threshold=30,
    boundary_samples=200,
    non_boundary_samples=500
)

result_mesh.write("merged_result.ply")
show(result_mesh, axes=1).close()
</code></pre>
<p>'''</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>mesh_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>主网格PLY文件路径</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>base_mesh_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>基础网格PLY文件路径</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>ref_direction</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>参考方向向量 (默认 [0,0,1])</p>
              </div>
            </td>
            <td>
                  <code><span title="numpy.array">array</span>([0, 0, -1])</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>angle_threshold</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>用于面片过滤的角度阈值 (度)</p>
              </div>
            </td>
            <td>
                  <code>30</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>boundary_samples</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>边界点采样数量</p>
              </div>
            </td>
            <td>
                  <code>200</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>non_boundary_samples</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>非边界点采样数量</p>
              </div>
            </td>
            <td>
                  <code>500</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>boundary_radius</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>边界区域识别半径</p>
              </div>
            </td>
            <td>
                  <code>1.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>seed</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>随机种子 (确保结果可重现)</p>
              </div>
            </td>
            <td>
                  <code>1024</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>
<pre><code>vedo.Mesh: 合并并清理后的网格
</code></pre>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.dental_tools.get_mesh_side_area" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_mesh_side_area</span><span class="p">(</span><span class="n">target_mesh</span><span class="p">,</span> <span class="n">template_center</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>获取邻牙网格中面向模板一侧的所有面片，并计算其总面积
（注：面向模板的面片指面片法向量与"邻牙中心指向模板中心"的方向夹角小于60°的面片）</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>target_mesh</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(tirmesh) 邻牙的网格模型（包含面片信息、法向量等属性）</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>template_center</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>生成模板的三维中心坐标</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>area</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>面向模板一侧的所有面片总面积</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>mask</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>布尔数组，标记哪些面片属于面向模板的一侧（True表示是）</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>face_indices</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>面向模板一侧的面片索引列表</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">示例：</span></p>
    <p>collision_side_area, collision_side_faces, collision_side_faces = get_collision_side_faces(mesh1, center_mass)
sub_mesh = mesh1.submesh([collision_side_faces])[0]
mesh1.visual.face_colors = [100, 100, 100, 100]  # 灰色半透明
mesh1.visual.face_colors[collision_side_faces] = [255, 0, 0, 255]  # 红色不透明
scene = trimesh.Scene()
scene.add_geometry(mesh1)
scene.add_geometry(sub_mesh)
scene.show()</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.dental_tools.labels2colors_freeze" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">labels2colors_freeze</span><span class="p">(</span><span class="n">labels</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>点云标签的颜色映射；</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.dental_tools.subdivide_with_pts" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">subdivide_with_pts</span><span class="p">(</span><span class="n">v</span><span class="p">,</span> <span class="n">f</span><span class="p">,</span> <span class="n">line_pts</span><span class="p">,</span> <span class="n">r</span><span class="o">=</span><span class="mf">0.15</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;mid&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>对给定的网格和线点集进行局部细分。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>v</code>
            </td>
            <td>
                  <code><span title="array">array</span> - <span title="like">like</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入网格的顶点数组。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>f</code>
            </td>
            <td>
                  <code><span title="array">array</span> - <span title="like">like</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入网格的面数组。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>line_pts</code>
            </td>
            <td>
                  <code><span title="array">array</span> - <span title="like">like</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>线的点集数组。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>r</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>查找线点附近顶点的半径，默认为 0.15.</p>
              </div>
            </td>
            <td>
                  <code>0.15</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>细分方法，可选值为 "mid"（中点细分）或其他值（对应 ls3_loop 细分），默认为 "mid"。</p>
              </div>
            </td>
            <td>
                  <code>&#39;mid&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>new_vertices (np.ndarray): 细分后的顶点数组;</li>
</ul>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <ul>
<li>new_face (np.ndarray): 细分后的面数组;</li>
</ul>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <pre><code class="language-python"># 闭合线可能在曲面上，曲面内，曲面外
line = Line(pts)
mesh = isotropic_remeshing_by_acvd(mesh)
v, f = np.array(mesh.vertices), np.array(mesh.cells)
new_vertices, new_face = subdivide_with_pts(v, f, pts)

show([(Mesh([new_vertices, new_face]).c(&quot;green&quot;), Line(pts, lw = 2, c = &quot;red&quot;)),
     (Mesh([v, f]).c(&quot;pink&quot;), Line(pts, lw = 2, c = &quot;red&quot;))], N = 2).close()
</code></pre>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="utils3d.dental_tools.transform_crown" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">transform_crown</span><span class="p">(</span><span class="n">near_mesh</span><span class="p">,</span> <span class="n">jaw_mesh</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>调整单冠的轴向
</code></pre>


<details class="tip" open>
  <summary>Tip</summary>
  <p>1.通过连通域分割两个邻牙;</p>
<p>2.以邻牙质心为确定x轴；</p>
<p>3.通过找对颌最近的点确定z轴方向;如果z轴方向上有mesh，则保持原样，否则将z轴取反向;</p>
<p>4.输出调整后的牙冠</p>
</details>

<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>near_mesh</code>
            </td>
            <td>
                  <code><span title="vedo.Mesh">Mesh</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>两个邻牙组成的mesh</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>jaw_mesh</code>
            </td>
            <td>
                  <code><span title="vedo.Mesh">Mesh</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>两个邻牙的对颌</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="vedo.Mesh">Mesh</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>变换后的单冠mesh</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="utils3d.sindremesh"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="utils3d.sindremesh.SindreMesh" class="doc doc-heading">
            <code>SindreMesh</code>


</h2>


    <div class="doc doc-contents ">



        <p>三维网格中转类，假设都是三角面片</p>











  <div class="doc doc-children">







<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.center" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">center</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>计算网格的加权质心（基于面片面积加权）。</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>np.ndarray: 加权质心坐标，形状为 (3,)。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>使用三角形面片面积作为权重，对三角形质心坐标进行加权平均。
该结果等价于网格的几何中心。</p>
</details>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.faces_area" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">faces_area</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>计算每个三角形面片的面积。</p>


<details class="notes" open>
  <summary>Notes</summary>
  <p>使用叉乘公式计算面积：
面积 = 0.5 * ||(v1 - v0) × (v2 - v0)||</p>
</details>
    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.faces_barycentre" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">faces_barycentre</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>每个三角形的中心（重心 [1/3,1/3,1/3]）</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.faces_vertices" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">faces_vertices</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>将面片索引用顶点来表示</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.get_adj_list" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_adj_list</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>邻接表属性</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.get_adj_matrix" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_adj_matrix</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>基于去重边构建邻接矩阵</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.get_edges" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_edges</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>未去重边缘属性</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.nfaces" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">nfaces</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>获取顶点数量</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.npoints" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">npoints</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>获取顶点数量</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.to_dict" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_dict</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>将属性转换成python字典</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.to_json" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_json</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>转换成json</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.to_meshlab" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_meshlab</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>转换成meshlab</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.to_open3d" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_open3d</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>转换成open3d</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.to_open3d_t" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_open3d_t</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>转换成open3d_t</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.to_trimesh" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_trimesh</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>转换成trimesh</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.to_vedo" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_vedo</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>转换成vedo</p>

    </div>

</div>

<div class="doc doc-object doc-attribute">



<h3 id="utils3d.sindremesh.SindreMesh.to_vedo_pointcloud" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_vedo_pointcloud</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-property"><code>property</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>转换成vedo点云</p>

    </div>

</div>




<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.__repr__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>网格质量检测</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.apply_inv_transform" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">apply_inv_transform</span><span class="p">(</span><span class="n">mat</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>对顶点应用4x4/3x3变换矩阵进行逆变换(支持非正交矩阵)</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.apply_transform" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">apply_transform</span><span class="p">(</span><span class="n">mat</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>对顶点应用4x4/3x3变换矩阵(支持非正交矩阵)</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.apply_transform_normals" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">apply_transform_normals</span><span class="p">(</span><span class="n">mat</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>处理顶点法线的变换（支持非均匀缩放和反射变换）---废弃，在复杂非正定矩阵，重新计算法线比变换更快，更加准确</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.check" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>检测数据完整性,正常返回True</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.clean" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clean</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>删除退化面片,删除孤立顶点</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.clone" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">clone</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>快速克隆当前网格对象</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.compute_normals" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">compute_normals</span><span class="p">(</span><span class="n">force</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>计算顶点法线及面片法线.force代表是否强制重新计算</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.cut_mesh" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">cut_mesh</span><span class="p">(</span><span class="n">loop_points</span><span class="p">,</span> <span class="n">get_bigger_part</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">smooth_boundary</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>将输入的3D点环投影到网格表面，根据参数决定是生成新的切割边还是仅提取投影轮廓。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>loop_points</code>
            </td>
            <td>
                  <code><span title="iterable">iterable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>3D点列表/数组，定义要投影到网格上的环状路径。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>get_bigger_part</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>选择面积大的mesh；</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>smooth_boundary</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>优化边界;</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>sindremesh</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>裁剪后的sindremesh</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.decimate" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">decimate</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">10000</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>网格下采样到指定目标顶点数，支持4种简化算法，自动传递顶点属性（标签/曲率）。</p>
<p>核心逻辑：通过面塌陷（Edge Collapse）或空间分箱实现简化，确保简化后网格的顶点属性（标签、曲率）
按合理策略聚合（如平均），避免属性丢失。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>n</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>目标顶点数（int），需满足 3 ≤ n ≤ 原始顶点数（过小会导致网格拓扑无效）。
注意：method=2（Binned）无法精确控制顶点数，仅能通过分箱间接影响。</p>
              </div>
            </td>
            <td>
                  <code>10000</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>简化算法选择（int，0-3）：
0: vedo.decimate → 基于VTK QuadricDecimation，速度中，精度高（优先推荐）；
1: vedo.decimate_pro → 基于VTK DecimatePro，速度中，精度中，支持强拓扑控制；
2: vedo.decimate_binned → 基于VTK BinnedDecimation，速度高，精度低，无法指定n；
3: 3: fast-simplification → 基于快速边折叠，速度最高，精度高，支持属性精确聚合，建议百万顶点上调用。</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>Self</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>简化后的网格对象（更新自身的顶点、面、顶点标签、顶点曲率）。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.fix_mesh" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fix_mesh</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>修复基本mesh错误</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.get_boundary" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_boundary</span><span class="p">(</span><span class="n">return_points</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">max_boundary</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>获取非水密网格的边界环（可能有多个环）;</p>
<p>Method:
1. 获取所有的边（未去重），并统计每条边出现的次数。在三角网格中，内部边会被两个三角形共享，而边界边只被一个三角形使用。
2. 筛选出只出现一次的边，这些边就是边界边。
3. 将边界边连接成有序的环（或多个环）。通过构建边界边的图，然后进行深度优先搜索或广度优先搜索来连接相邻的边。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>return_points</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True返回顶点坐标,False返回顶点索引</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_boundary</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>True时只返回最大的边界环(按顶点数量)</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Return:
    list: 边界环列表，每个环是顶点索引的有序序列（闭合环，首尾顶点相同）,当max_boundary=True,单个边界环数组</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.get_boundary_by_normal_angle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_boundary_by_normal_angle</span><span class="p">(</span><span class="n">angle_threshold</span><span class="o">=</span><span class="mi">30</span><span class="p">,</span> <span class="n">max_boundary</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>通过相邻三角面法线夹角识别特征边界环</p>


<details class="note" open>
  <summary>Note</summary>
  <ol>
<li>计算所有三角面的归一化法向量</li>
<li>遍历网格所有边，筛选出相邻两面法线夹角大于阈值的边（特征边）</li>
<li>将特征边连接成有序封闭环</li>
</ol>
</details>

<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>self</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>必须为水密网格;</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>angle_threshold</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>法线夹角阈值(度),默认30度;</p>
              </div>
            </td>
            <td>
                  <code>30</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>max_boundary</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否仅返回最长边界环,默认True;</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>边界环顶点索引列表(若max_boundary=True则返回单个环)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.get_boundary_by_ref_normal_angle" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_boundary_by_ref_normal_angle</span><span class="p">(</span><span class="n">ref_normal</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">angle</span><span class="o">=</span><span class="mi">30</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>通过参考法线和角度阈值获取网格边界顶点</p>


<details class="note" open>
  <summary>Note</summary>
  <p>将输入的参考法线转换为 numpy 数组
计算网格所有面的法线与参考法线的余弦相似度
筛选出与参考法线夹角小于阈值角度的面（余弦值大于阈值角度的余弦值）
对筛选出的面进行处理，提取并返回其边界顶点</p>
</details>        <p>Args:</p>
<pre><code>self: 网格对象，需包含面法线 (face_normals)、顶点 (vertices) 和面 (faces) 属性；

ref_normal: 参考法线向量，默认值为 [0, 0, -1] 朝向-z方向;

angle: 角度阈值 (度)，默认 30 度，用于筛选与参考法线夹角小于该值的面；
</code></pre>
<p>Returns:</p>
<pre><code>边界顶点坐标；
</code></pre>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.get_color_mapping" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_color_mapping</span><span class="p">(</span><span class="n">value</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>将向量映射为颜色，遵从vcg映射标准</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.get_curvature" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_curvature</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>获取曲率</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.get_curvature_meshlab" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_curvature_meshlab</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>使用MeshLab获取更加精确曲率，自动处理非流形几何</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.get_faces_labels" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_faces_labels</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>将顶点标签转换成面片标签
Returns:面片标签</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.get_near_idx" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_near_idx</span><span class="p">(</span><span class="n">query_vertices</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>获取最近索引</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.get_normalize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_normalize</span><span class="p">(</span><span class="n">method</span><span class="o">=</span><span class="s1">&#39;ball&#39;</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>对顶点、曲率和颜色数据进行归一化处理</p>
<p>该方法支持两种归一化方式，可将顶点坐标、曲率值和颜色值
归一化到特定范围，便于后续处理和分析。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>method</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>归一化方法。可选值为"ball"或其他。
"ball"表示将顶点中心移至原点并缩放至单位球内；
其他值表示将顶点缩放到[0,1]范围。默认值为"ball"。</p>
              </div>
            </td>
            <td>
                  <code>&#39;ball&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>dict</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>包含归一化后的数据字典，键值对如下：
- "vertices":归一化后的顶点坐标数组（已转换method参数为范围）
- "normals": 法线（已转换为[-1,1]范围）
- "curvature": 归一化后的曲率值数组（已转换为[-1,1]范围）
- "colors": 归一化后的颜色值数组（已转换为[0,1]范围）</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.get_texture" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_texture</span><span class="p">(</span><span class="n">image_size</span><span class="o">=</span><span class="p">(</span><span class="mi">512</span><span class="p">,</span> <span class="mi">512</span><span class="p">),</span> <span class="n">uv</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>将颜色转换为纹理贴图,  Mesh([v, f]).texture(write_path,uv)</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.get_unused_vertices" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_unused_vertices</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>获取未使用顶点的索引</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.get_uv" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_uv</span><span class="p">(</span><span class="n">return_circle</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-cached"><code>cached</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>获取uv映射 与顶点一致(npoinst,2)</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.homogenize" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">homogenize</span><span class="p">(</span><span class="n">n</span><span class="o">=</span><span class="mi">10000</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>均匀化网格到指定点数，采用聚类</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.load" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load</span><span class="p">(</span><span class="n">load_path</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>读取(.sm .smesh)文件</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.print_o3d" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">print_o3d</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>使用open3d网格质量检测</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.remove_degenerate_faces" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_degenerate_faces</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>检测并删除退化面片</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.remove_faces_by_vertex_indices" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">remove_faces_by_vertex_indices</span><span class="p">(</span><span class="n">vertex_indices</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>删除所有包含指定顶点索引的面片</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.rotate_xyz" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">rotate_xyz</span><span class="p">(</span><span class="n">angles_xyz</span><span class="p">,</span> <span class="n">return_mat</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>按照给定xyz角度列表进行xyz对应旋转</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.sample" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">sample</span><span class="p">(</span><span class="n">density</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">num_samples</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>网格表面上进行点云重采样
Args:
    density (float, 可选): 每单位面积的采样点数，默认为1
    num_samples (int, 可选): 指定总采样点数N，若提供则忽略density参数</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>numpy.ndarray: 重采样后的点云数组，形状为(N, 3)，N为总采样点数</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.save" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save</span><span class="p">(</span><span class="n">write_path</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>保存mesh,pickle(.sm .smesh),其他由vedo支持</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.scale_xyz" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">scale_xyz</span><span class="p">(</span><span class="n">dxdydz</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>缩放xyz指定量,支持输入3个向量和1个向量</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.set_faces_labels" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_faces_labels</span><span class="p">(</span><span class="n">faces_labels</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>将面片labels转换为顶点labels,并自动渲染颜色</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.set_vertex_labels" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_vertex_labels</span><span class="p">(</span><span class="n">vertex_labels</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>设置顶点labels,并自动渲染颜色</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.shift_xyz" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">shift_xyz</span><span class="p">(</span><span class="n">dxdydz</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>平移xyz指定量,支持输入3个向量和1个向量</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.show" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">show</span><span class="p">(</span><span class="n">show_append</span><span class="o">=</span><span class="p">[],</span> <span class="n">labels</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">exclude_list</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">create_axes</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">return_obj</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">by_open3d</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>渲染并展示网格数据，支持根据标签着色、添加标记及坐标系显示。</p>
<p>Args：
    show_append (list)：需要与主网格一起渲染的额外vedo对象列表
    labels (numpy.ndarray, 可选)：网格顶点的标签数组。若提供，将：
        - 根据标签值为顶点分配颜色
        - 为每个不在排除列表中的标签添加标记
    exclude_list (list, 可选)：默认值为[0]，指定不显示标记的标签列表
    create_axes (bool)：是否强制显示世界坐标系，默认为True
    return_obj (bool)：是否返回vedo显示对象列表而非直接渲染，默认为False
    by_open3d (bool)：是否使用Open3D引擎进行渲染，默认为False（使用vedo引擎）</p>
<p>Returns：
    若return_vedo_obj为True，返回包含所有待显示对象的列表；
    否则无返回值，直接弹出渲染窗口。</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.split_component" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">split_component</span><span class="p">(</span><span class="n">return_largest</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>将网格按照连通分量分割,并返回最大和其余连通分量的顶点索引</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>tuple</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>包含三个数组的元组
- 第一个元素: 连通分量数量
- 第二个元素: 最大连通分量的节点索引
- 第三个元素: 剩余部分的节点索引（即非最大连通分量的所有节点）</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.subdivison" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">subdivison</span><span class="p">(</span><span class="n">face_mask</span><span class="p">,</span> <span class="n">iterations</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">method</span><span class="o">=</span><span class="s1">&#39;mid&#39;</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>局部细分</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.texture2colors" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">texture2colors</span><span class="p">(</span><span class="n">image_path</span><span class="o">=</span><span class="s1">&#39;texture_uv.png&#39;</span><span class="p">,</span> <span class="n">uv</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>将纹理贴图转换成顶点颜色</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.to_pytorch3d" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_pytorch3d</span><span class="p">(</span><span class="n">device</span><span class="o">=</span><span class="s1">&#39;cpu&#39;</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>转换成pytorch3d形式</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>mesh</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>pytorch3d类型mesh</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.to_torch" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">to_torch</span><span class="p">(</span><span class="n">device</span><span class="o">=</span><span class="s1">&#39;cpu&#39;</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>将顶点&amp;面片转换成torch形式</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>vertices,faces,vertex_normals,vertex_colors: 顶点，面片,法线，颜色（没有则为None)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="utils3d.sindremesh.SindreMesh.update_geometry" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">update_geometry</span><span class="p">(</span><span class="n">new_vertices</span><span class="p">,</span> <span class="n">new_faces</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>更新网格的几何结构（顶点和面片），并通过最近邻算法将原有的顶点属性映射到新顶点上。</p>
<p>适用于在保持网格拓扑结构基本不变的情况下，对网格进行变形，细化，简化的场景。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>new_vertices</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>形状为(N,3)的浮点型数组，表示新的顶点坐标</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>new_faces</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>可选参数，形状为(M,3)的整数型数组，表示新的面片索引</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>notes</summary>
  <ul>
<li>当新顶点数量与原顶点数量不同时，原顶点属性会根据最近邻关系进行映射</li>
<li>如果未提供新的面片信息，函数会尝试根据旧面片和顶点映射关系重建面片</li>
</ul>
</details>

    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="utils3d.vedo_tools"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="utils3d.vedo_tools.matrix3d_by_vedo" class="doc doc-heading">
            <code>matrix3d_by_vedo</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="vedo.Plotter">Plotter</span></code></p>



        <p>Generate a rendering window with slicing planes for the input Volume.</p>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="utils3d.vedo_tools.matrix3d_by_vedo.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">data</span><span class="p">,</span> <span class="n">cmaps</span><span class="o">=</span><span class="p">(</span><span class="s1">&#39;gist_ncar_r&#39;</span><span class="p">,</span> <span class="s1">&#39;hot_r&#39;</span><span class="p">,</span> <span class="s1">&#39;bone&#39;</span><span class="p">,</span> <span class="s1">&#39;bone_r&#39;</span><span class="p">,</span> <span class="s1">&#39;jet&#39;</span><span class="p">,</span> <span class="s1">&#39;Spectral_r&#39;</span><span class="p">),</span> <span class="n">clamp</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_histo</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">show_icon</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">draggable</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">at</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>Generate a rendering window with slicing planes for the input Volume.</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>cmaps </code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(list)
list of color maps names to cycle when clicking button</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>clamp </code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(bool)
clamp scalar range to reduce the effect of tails in color mapping</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>use_slider3d </code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(bool)
show sliders attached along the axes</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>show_histo </code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(bool)
show histogram on bottom left</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>show_icon </code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(bool)
show a small 3D rendering icon of the volume</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>draggable </code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(bool)
make the 3D icon draggable</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>at </code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(int)
subwindow number to plot to</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>**kwargs </code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>(dict)
keyword arguments to pass to Plotter.</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">示例：</span></p>
    <ul>
<li><a href="https://github.com/marcomusy/vedo/tree/master/examples/volumetric/slicer1.py">slicer1.py</a></li>
</ul>
<p><img src="https://vedo.embl.es/images/volumetric/slicer1.jpg" width="500"></p>


    </div>

</div>



  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="utils3d.vedo_tools.show_matrix_by_vedo" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">show_matrix_by_vedo</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>用vedo渲染矩阵</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>data</code>
            </td>
            <td>
                  <code><span title="numpy.ndarray">ndarray</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入的2d/3d数组；</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div><hr />
<h2 id="api_2"><a id="神经网络api">神经网络API</a></h2>


<div class="doc doc-object doc-module">



<a id="ai.layers"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="ai.layers.AdaIN" class="doc doc-heading">
            <code>AdaIN</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>Adaptive Instance Normalization (AdaIN) layer.</p>
<p>将隐向量中编码的风格迁移到输入张量中。
首先对输入张量进行归一化处理（"白化"），然后使用从隐向量生成的参数
进行反归一化，从而将风格信息编码到输入张量中。</p>
<p>原始论文: https://arxiv.org/abs/1703.06868
基于实现: https://github.com/SiskonEmilia/StyleGAN-PyTorch</p>
<p>Attributes:
norm: 归一化层，用于对输入图像进行"白化"处理。
默认为InstanceNorm2d，也可以是其他归一化模块。</p>











  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.layers.CrossAttentionDecoder" class="doc doc-heading">
            <code>CrossAttentionDecoder</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>交叉注意力解码器模块，用于通过潜在变量（Latents）增强查询（Queries）的特征表示。</p>
<p>该模块将输入查询通过傅里叶嵌入编码后，与潜在变量进行交叉注意力交互，最终生成目标输出（如分类概率）。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>num_latents</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>潜在变量的数量（即每个样本的上下文标记数）。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>out_channels</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输出通道数（如分类类别数）。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>fourier_embedder</code>
            </td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="FourierEmbedder (ai.layers.FourierEmbedder)" href="#ai.layers.FourierEmbedder">FourierEmbedder</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>傅里叶特征嵌入器，用于编码输入查询。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>特征投影后的维度（注意力模块的隐藏层宽度）。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>heads</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>注意力头的数量。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>qkv_bias</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否在 Q/K/V 投影中添加偏置项，默认为 True。</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>qk_norm</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否对 Q/K 进行层归一化，默认为 False。</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">属性：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="ai.layers.CrossAttentionDecoder.query_proj">query_proj</span></code></td>
            <td>
                  <code><span title="torch.nn.Linear">Linear</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>将傅里叶嵌入后的查询投影到指定宽度的线性层。</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.layers.CrossAttentionDecoder.cross_attn_decoder">cross_attn_decoder</span></code></td>
            <td>
                  <code><a class="autorefs autorefs-internal" title="ResidualCrossAttentionBlock (ai.layers.ResidualCrossAttentionBlock)" href="#ai.layers.ResidualCrossAttentionBlock">ResidualCrossAttentionBlock</a></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>残差交叉注意力块。</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.layers.CrossAttentionDecoder.ln_post">ln_post</span></code></td>
            <td>
                  <code><span title="torch.nn.LayerNorm">LayerNorm</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输出前的层归一化。</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.layers.CrossAttentionDecoder.output_proj">output_proj</span></code></td>
            <td>
                  <code><span title="torch.nn.Linear">Linear</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>最终输出投影层。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="shape" open>
  <summary>Shape</summary>
  <ul>
<li>输入 queries: (bs, num_queries, query_dim)</li>
<li>输入 latents: (bs, num_latents, latent_dim)</li>
<li>输出 occ: (bs, num_queries, out_channels)</li>
</ul>
</details>










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.layers.CrossAttentionDecoder.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">queries</span><span class="p">,</span> <span class="n">latents</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>前向传播流程：傅里叶嵌入 -&gt; 投影 -&gt; 交叉注意力 -&gt; 归一化 -&gt; 输出投影。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>queries</code>
            </td>
            <td>
                  <code><span title="torch.FloatTensor">FloatTensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入查询张量，形状 (bs, num_queries, query_dim)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>latents</code>
            </td>
            <td>
                  <code><span title="torch.FloatTensor">FloatTensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>潜在变量张量，形状 (bs, num_latents, latent_dim)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="torch.FloatTensor">FloatTensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>torch.FloatTensor: 输出张量，形状 (bs, num_queries, out_channels)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.layers.DropPath" class="doc doc-heading">
            <code>DropPath</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>随机深度（Stochastic Depth）模块，用于在残差块的主路径上随机丢弃样本路径。</p>
<p>该模块通过以概率 <code>drop_prob</code> 将输入张量置零（跳过当前残差块），同时根据 <code>scale_by_keep</code>
决定是否缩放输出值以保持期望不变。常用于正则化深层网络（如ResNet、Vision Transformer）。</p>
<p>Notes:</p>
<pre><code>它与作者为 EfficientNet 等网络创建的 DropConnect 实现类似，但原来的名称具有误导性，
因为 “Drop Connect” 在另一篇论文中是一种不同形式的丢弃技术。
作者选择将层和参数名称更改为 “drop path”，
而不是将 DropConnect 作为层名并使用 “survival rate（生存概率）” 作为参数。
[https://github.com/tensorflow/tpu/issues/494#issuecomment-532968956]
</code></pre>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>drop_prob</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>路径丢弃概率，取值范围 [0, 1)，默认为 0（不丢弃）。</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>scale_by_keep</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>若为 True，保留路径时会进行缩放补偿（除以 <code>1 - drop_prob</code>），
以保持输出的期望值不变，默认为 True。</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">属性：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="ai.layers.DropPath.drop_prob">drop_prob</span></code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>继承自 Args 的路径丢弃概率。</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.layers.DropPath.scale_by_keep">scale_by_keep</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>继承自 Args 的缩放开关。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="example" open>
  <summary>Example</summary>
  <blockquote>
<blockquote>
<blockquote>
<p>x = torch.randn(2, 3, 16, 16)
drop_path = DropPath(drop_prob=0.2)
train_output = drop_path(x)  # 训练时随机丢弃路径
drop_path.eval()
eval_output = drop_path(x)   # 推理时直接返回原值</p>
</blockquote>
</blockquote>
</blockquote>
</details>










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.layers.DropPath.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">drop_prob</span><span class="o">=</span><span class="mf">0.0</span><span class="p">,</span> <span class="n">scale_by_keep</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>初始化方法，配置丢弃概率和缩放开关</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.layers.DropPath.extra_repr" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">extra_repr</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>用于打印模块的附加信息</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.layers.DropPath.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>前向传播，训练时随机丢弃路径，推理时直接返回输入。</p>
<p>具体实现逻辑：
1. 若 <code>drop_prob=0</code> 或处于推理模式，直接返回输入。
2. 生成与输入张量 <code>x</code> 的 batch 维度对齐的随机二值掩码。
3. 根据 <code>scale_by_keep</code> 决定是否对保留路径的样本进行缩放补偿。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入张量，形状为 [batch_size, ...]</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>torch.Tensor: 输出张量，训练时可能被部分置零，形状与输入一致。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.layers.FourierEmbedder" class="doc doc-heading">
            <code>FourierEmbedder</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <pre><code>傅里叶变换(正弦/余弦位置)嵌入模块。给定形状为 [n_batch, ..., c_dim] 的输入张量 `x`，
它将 `x[..., i]` 的每个特征维度转换为如下形式：

    [
        sin(x[..., i]),
        sin(f_1*x[..., i]),
        sin(f_2*x[..., i]),
        ...
        sin(f_N * x[..., i]),
        cos(x[..., i]),
        cos(f_1*x[..., i]),
        cos(f_2*x[..., i]),
        ...
        cos(f_N * x[..., i]),
        x[..., i]     # 仅当 include_input 为 True 时保留
    ]
其中 f_i 表示频率。



频率空间默认为 [0/num_freqs, 1/num_freqs, ..., (num_freqs-1)/num_freqs]。
若 `logspace` 为 True，则频率按对数空间排列：f_i = [2^(0/num_freqs), 2^(1/num_freqs), ..., 2^((num_freqs-1)/num_freqs)]；
否则，频率在 [1.0, 2^(num_freqs-1)] 范围内线性均匀分布。
</code></pre>
<p>Args:
    num_freqs (int): 频率数量,默认为6;</p>
<pre><code>logspace (bool): 是否使用对数空间频率。若为True，频率为 2^(i/num_freqs)；否则线性间隔，默认为True；

input_dim (int): 输入维度，默认为3；
include_input (bool): 是否在输出中包含原始输入，默认为True；
include_pi (bool): 是否将频率乘以π，默认为True。
</code></pre>


<p><span class="doc-section-title">属性：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="ai.layers.FourierEmbedder.frequencies">frequencies</span></code></td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>频率张量。若 <code>logspace</code> 为True，则频率按指数间隔；否则线性间隔。</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.layers.FourierEmbedder.out_dim">out_dim</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>嵌入后的维度。若 <code>include_input</code> 为True，则为 input_dim * (num_freqs<em>2 +1)；否则为 input_dim * num_freqs</em>2。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.layers.FourierEmbedder.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">num_freqs</span><span class="o">=</span><span class="mi">6</span><span class="p">,</span> <span class="n">logspace</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">input_dim</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">include_input</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">include_pi</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>初始化方法</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.layers.FourierEmbedder.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>前向传播</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入张量，形状为 [..., dim]</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>embedding</code></td>            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>嵌入后的张量，形状为 [..., dim * (num_freqs*2 + temp)]，
其中 temp 为1（若包含输入）或0。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.layers.FourierEmbedder.get_dims" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_dims</span><span class="p">(</span><span class="n">input_dim</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>计算输出维度</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.layers.GEGLU" class="doc doc-heading">
            <code>GEGLU</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>GeGLU activation function.</p>
<p>Taken from 3DShape2VecSet, Zhang et al., SIGGRAPH23.
https://github.com/1zb/3DShape2VecSet/blob/master/models_ae.py</p>











  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.layers.MLP" class="doc doc-heading">
            <code>MLP</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>多层感知机（MLP）模块，包含扩展投影、激活函数、收缩投影和可选的 DropPath 正则化。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入特征维度。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>output_width</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输出特征维度，默认为 None（与输入相同）。</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>drop_path_rate</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DropPath 的路径丢弃概率，默认为 0.0（不启用）。</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="shape" open>
  <summary>Shape</summary>
  <ul>
<li>输入 x: (..., width)</li>
<li>输出: (..., output_width or width)</li>
</ul>
</details>










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.layers.MLP.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>前向传播流程：扩展 -&gt; 激活 -&gt; 收缩 -&gt; DropPath（若启用）</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.layers.MultiheadAttention" class="doc doc-heading">
            <code>MultiheadAttention</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>多头自注意力模块，包含 QKV 投影和注意力计算。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>n_ctx</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>上下文长度（序列长度）。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入/输出特征维度。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>heads</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>注意力头数量。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>qkv_bias</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否在 QKV 投影中添加偏置项，默认为 True。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>norm_layer</code>
            </td>
            <td>
                  <code><span title="torch.nn.Module">Module</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>归一化层类型，默认为 <code>nn.LayerNorm</code>。</p>
              </div>
            </td>
            <td>
                  <code><span title="torch.nn.LayerNorm">LayerNorm</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>qk_norm</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否对 Q/K 进行归一化，默认为 False。</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>drop_path_rate</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DropPath 的丢弃概率，默认为 0.0（不启用）。</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="shape" open>
  <summary>Shape</summary>
  <ul>
<li>输入 x: (bs, n_ctx, width)</li>
<li>输出: (bs, n_ctx, width)</li>
</ul>
</details>










  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.layers.MultiheadCrossAttention" class="doc doc-heading">
            <code>MultiheadCrossAttention</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>多头交叉注意力模块，包含线性投影和注意力计算。</p>
<p>将输入 <code>x</code> 和 <code>data</code> 分别投影为 Q 和 K/V，并通过 <code>QKVMultiheadCrossAttention</code> 计算交叉注意力。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入/输出特征维度。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>heads</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>注意力头的数量。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>qkv_bias</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否在 Q/K/V 投影中添加偏置项，默认为 True。</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>n_data</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>键值对数据的数量，默认为 None。</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data_width</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入数据 <code>data</code> 的特征维度，默认为 None（同 width）。</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>norm_layer</code>
            </td>
            <td>
                  <code><span title="torch.nn.Module">Module</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>归一化层类型，默认为 <code>nn.LayerNorm</code>。</p>
              </div>
            </td>
            <td>
                  <code><span title="torch.nn.LayerNorm">LayerNorm</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>qk_norm</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否对 Q/K 进行归一化，默认为 False。</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="shape" open>
  <summary>Shape</summary>
  <ul>
<li>输入 x: (bs, n_ctx, width)</li>
<li>输入 data: (bs, n_data, data_width)</li>
<li>输出: (bs, n_ctx, width)</li>
</ul>
</details>










  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.layers.QKVMultiheadAttention" class="doc doc-heading">
            <code>QKVMultiheadAttention</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>基于 QKV 拼接的多头自注意力计算模块。</p>
<p>将输入的拼接 QKV 张量分割为独立的 Q/K/V，并应用缩放点积注意力。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>heads</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>注意力头数量。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>n_ctx</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>上下文长度（序列长度）。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入特征维度，默认为 None。</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>qk_norm</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否对 Q/K 进行归一化，默认为 False。</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>norm_layer</code>
            </td>
            <td>
                  <code><span title="torch.nn.Module">Module</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>归一化层类型，默认为 <code>nn.LayerNorm</code>。</p>
              </div>
            </td>
            <td>
                  <code><span title="torch.nn.LayerNorm">LayerNorm</span></code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="shape" open>
  <summary>Shape</summary>
  <ul>
<li>输入 qkv: (bs, n_ctx, width * 3)  # Q/K/V 拼接后的张量</li>
<li>输出: (bs, n_ctx, width)</li>
</ul>
</details>










  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.layers.QKVMultiheadCrossAttention" class="doc doc-heading">
            <code>QKVMultiheadCrossAttention</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>基于查询（Query）、键值对（Key-Value）的多头交叉注意力计算模块。</p>
<p>通过将输入的 <code>q</code> 和 <code>kv</code> 分割为多头，应用缩放点积注意力（Scaled Dot-Product Attention），
并可选对 Q/K 进行归一化处理。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>heads</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>注意力头的数量。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>n_data</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>键值对数据的数量（上下文长度），默认为 None。</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入特征的维度，默认为 None。</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>qk_norm</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否对 Q/K 进行层归一化，默认为 False。</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>norm_layer</code>
            </td>
            <td>
                  <code><span title="torch.nn.Module">Module</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>归一化层类型，默认为 <code>nn.LayerNorm</code>。</p>
              </div>
            </td>
            <td>
                  <code><span title="torch.nn.LayerNorm">LayerNorm</span></code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">属性：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="ai.layers.QKVMultiheadCrossAttention.heads">heads</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>继承自 Args 的注意力头数量。</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.layers.QKVMultiheadCrossAttention.q_norm">q_norm</span></code></td>
            <td>
                  <code><span title="torch.nn.Module">Module</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>查询向量的归一化层（若启用 qk_norm）。</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.layers.QKVMultiheadCrossAttention.k_norm">k_norm</span></code></td>
            <td>
                  <code><span title="torch.nn.Module">Module</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>键向量的归一化层（若启用 qk_norm）。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="shape" open>
  <summary>Shape</summary>
  <ul>
<li>输入 q: (bs, n_ctx, width)</li>
<li>输入 kv: (bs, n_data, width * 2)  # 包含键和值拼接后的张量</li>
<li>输出: (bs, n_ctx, width)</li>
</ul>
</details>










  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.layers.ResidualAttentionBlock" class="doc doc-heading">
            <code>ResidualAttentionBlock</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>残差自注意力块，包含多头自注意力和 MLP 子模块。</p>
<p>结构：LN -&gt; Self-Attention -&gt; Add -&gt; LN -&gt; MLP -&gt; Add</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>n_ctx</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>上下文长度（序列长度）。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入特征维度。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>heads</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>注意力头数量。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>qkv_bias</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否在 QKV 投影中添加偏置项，默认为 True。</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>norm_layer</code>
            </td>
            <td>
                  <code><span title="torch.nn.Module">Module</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>归一化层类型，默认为 <code>nn.LayerNorm</code>。</p>
              </div>
            </td>
            <td>
                  <code><span title="torch.nn.LayerNorm">LayerNorm</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>qk_norm</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否对 Q/K 进行归一化，默认为 False。</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>drop_path_rate</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DropPath 的丢弃概率，默认为 0.0。</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="shape" open>
  <summary>Shape</summary>
  <ul>
<li>输入 x: (bs, n_ctx, width)</li>
<li>输出: (bs, n_ctx, width)</li>
</ul>
</details>










  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.layers.ResidualCrossAttentionBlock" class="doc doc-heading">
            <code>ResidualCrossAttentionBlock</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>残差交叉注意力块，包含多头交叉注意力和 MLP 子模块。</p>
<p>结构：LN -&gt; Cross-Attention -&gt; Add -&gt; LN -&gt; MLP -&gt; Add</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>n_data</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>键值对数据的数量，默认为 None。</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入特征维度。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>heads</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>注意力头的数量。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>data_width</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入数据 <code>data</code> 的特征维度，默认为 None（同 width）。</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>qkv_bias</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否在 Q/K/V 投影中添加偏置项，默认为 True。</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>norm_layer</code>
            </td>
            <td>
                  <code><span title="torch.nn.Module">Module</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>归一化层类型，默认为 <code>nn.LayerNorm</code>。</p>
              </div>
            </td>
            <td>
                  <code><span title="torch.nn.LayerNorm">LayerNorm</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>qk_norm</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否对 Q/K 进行归一化，默认为 False。</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="shape" open>
  <summary>Shape</summary>
  <ul>
<li>输入 x: (bs, n_ctx, width)</li>
<li>输入 data: (bs, n_data, data_width)</li>
<li>输出: (bs, n_ctx, width)</li>
</ul>
</details>










  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.layers.Transformer" class="doc doc-heading">
            <code>Transformer</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>Transformer 模型，由多层 <code>ResidualAttentionBlock</code> 堆叠而成。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>n_ctx</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>上下文长度（序列长度）。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>width</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入特征维度。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>layers</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>残差注意力块的层数。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>heads</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>注意力头数量。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>qkv_bias</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否在 QKV 投影中添加偏置项，默认为 True。</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>norm_layer</code>
            </td>
            <td>
                  <code><span title="torch.nn.Module">Module</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>归一化层类型，默认为 <code>nn.LayerNorm</code>。</p>
              </div>
            </td>
            <td>
                  <code><span title="torch.nn.LayerNorm">LayerNorm</span></code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>qk_norm</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否对 Q/K 进行归一化，默认为 False。</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>drop_path_rate</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>DropPath 的丢弃概率，默认为 0.0。</p>
              </div>
            </td>
            <td>
                  <code>0.0</code>
            </td>
          </tr>
      </tbody>
    </table>


<details class="shape" open>
  <summary>Shape</summary>
  <ul>
<li>输入 x: (bs, n_ctx, width)</li>
<li>输出: (bs, n_ctx, width)</li>
</ul>
</details>










  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.layers.binarize" class="doc doc-heading">
            <code>binarize</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.autograd.Function">Function</span></code></p>



        <p>自定义二值化操作的PyTorch函数实现。
继承自torch.autograd.Function，支持自动求导。
功能：将输入张量根据阈值转换为二值张量（0或1）。</p>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.layers.binarize.backward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">backward</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">grad_output</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>反向传播：计算输入的梯度。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ctx</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>上下文对象</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>grad_output</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输出的梯度，形状同输出</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>grad_inputs</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入x的梯度，形状同x（直通估计器）</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.layers.binarize.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">ctx</span><span class="p">,</span> <span class="n">x</span><span class="p">,</span> <span class="n">threshold</span><span class="o">=</span><span class="mf">0.5</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>前向传播：将输入张量根据阈值二值化。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>ctx</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>上下文对象</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入张量，可以是任意形状</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>threshold</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>二值化阈值，默认值为0.5</p>
              </div>
            </td>
            <td>
                  <code>0.5</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>binarized</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>二值化后的张量，与x形状相同，值为0或1</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="ai.losses"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="ai.losses.BinaryFocalLoss" class="doc doc-heading">
            <code>BinaryFocalLoss</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>二分类焦点损失函数，适用于类别不平衡场景</p>
<p>通过降低易分类样本的权重，使得模型在训练时更关注难分类样本
论文: <a href="https://arxiv.org/abs/1708.02002">https://arxiv.org/abs/1708.02002</a></p>


<p><span class="doc-section-title">属性：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="ai.losses.BinaryFocalLoss.gamma">gamma</span></code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>调节因子，用于调整困难样本的权重</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.losses.BinaryFocalLoss.alpha">alpha</span></code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>类别权重平衡参数，范围(0,1)</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.losses.BinaryFocalLoss.logits">logits</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入是否为logits（启用sigmoid）</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.losses.BinaryFocalLoss.reduce">reduce</span></code></td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否对损失进行均值降维</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.losses.BinaryFocalLoss.loss_weight">loss_weight</span></code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>损失权重系数</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.losses.BinaryFocalLoss.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>前向计算函数</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pred</code>
            </td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>模型预测值，形状为(N)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target</code>
            </td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>真实标签，形状为(N)。若为类别索引，每个值应为0或1；
若为概率值，形状需与pred一致</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>torch.Tensor: 计算得到的损失值</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.BoundaryLoss" class="doc doc-heading">
            <code>BoundaryLoss</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>Boundary Loss proposed in:
Alexey Bokhovkin et al., Boundary Loss for Remote Sensing Imagery Semantic Segmentation
https://arxiv.org/abs/1905.07852</p>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.losses.BoundaryLoss.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">pred_output</span><span class="p">,</span> <span class="n">gt</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">



<details class="input" open>
  <summary>Input</summary>
  <ul>
<li>pred_output: the output from model (before softmax)
        shape (N, C, H, W)</li>
<li>gt: ground truth map #这是原来的输入,最新输入为(N, C, H, W)
        shape (N, H, w)</li>
</ul>
</details>        <p>Return:
    - boundary loss, averaged over mini-bathc</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.CenterLoss" class="doc doc-heading">
            <code>CenterLoss</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>Center loss.</p>
<p>Reference:
Wen et al. A Discriminative Feature Learning Approach for Deep Face Recognition. ECCV 2016.</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>num_classes</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>number of classes.</p>
              </div>
            </td>
            <td>
                  <code>3</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>feat_dim</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>feature dimension.</p>
              </div>
            </td>
            <td>
                  <code>3</code>
            </td>
          </tr>
      </tbody>
    </table>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.losses.CenterLoss.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">input_x</span><span class="p">,</span> <span class="n">input_label</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">



<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>feature matrix with shape (batch_size, feat_dim).</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>labels</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>ground truth labels with shape (batch_size).</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.ContourLoss" class="doc doc-heading">
            <code>ContourLoss</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>ContourLoss（轮廓损失）
    核心思想：同时优化区域一致性和轮廓平滑性，特别适合需要精确边界的分割任务（如医学图像分割、目标边缘分割）。
    组成部分：
        长度项（length term）：通过计算预测图的水平和垂直梯度，惩罚剧烈变化的区域，鼓励生成平滑连续的轮廓。
        区域项（region term）：惩罚前景区域（target=1）和背景区域（target=0）的预测误差，确保区域内部的一致性</p>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.losses.ContourLoss.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>target, pred: tensor of shape (B, C, H, W), where target[:,:,region_in_contour] == 1,
                target[:,:,region_out_contour] == 0.
weight: scalar, length term weight.</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.DiceLoss" class="doc doc-heading">
            <code>DiceLoss</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>Dice系数损失函数，适用于分割任务</p>
<p>通过测量预测与标签的相似度进行优化，尤其适用于类别不平衡场景
论文: <a href="https://arxiv.org/abs/1606.04797">https://arxiv.org/abs/1606.04797</a></p>


<p><span class="doc-section-title">属性：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="ai.losses.DiceLoss.smooth">smooth</span></code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>平滑系数，防止除零</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.losses.DiceLoss.exponent">exponent</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>指数参数，控制计算方式</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.losses.DiceLoss.loss_weight">loss_weight</span></code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>损失项的缩放权重</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.losses.DiceLoss.ignore_index">ignore_index</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>需要忽略的类别索引</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.losses.DiceLoss.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>前向计算函数</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pred</code>
            </td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>模型预测值，形状为(B, C, d1, d2, ...)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target</code>
            </td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>真实标签，形状为(B, d1, d2, ...)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>torch.Tensor: 计算得到的损失值</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.FocalLoss" class="doc doc-heading">
            <code>FocalLoss</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>多分类焦点损失函数，支持类别忽略</p>
<p>适用于多分类任务的焦点损失实现，支持指定忽略类别
论文: <a href="https://arxiv.org/abs/1708.02002">https://arxiv.org/abs/1708.02002</a></p>


<p><span class="doc-section-title">属性：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="ai.losses.FocalLoss.gamma">gamma</span></code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>困难样本调节因子</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.losses.FocalLoss.alpha">alpha</span></code></td>
            <td>
                  <code><span title="float">float</span> / <span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>类别权重，可设置为列表指定各类别权重</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.losses.FocalLoss.reduction">reduction</span></code></td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>损失降维方式，可选'mean'或'sum'</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.losses.FocalLoss.loss_weight">loss_weight</span></code></td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>损失项的缩放权重</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td><code><span title="ai.losses.FocalLoss.ignore_index">ignore_index</span></code></td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>需要忽略的类别索引</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.losses.FocalLoss.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">pred</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="o">**</span><span class="n">kwargs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>前向计算函数</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>pred</code>
            </td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>模型预测值，形状为(N, C)，C为类别数</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target</code>
            </td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>真实标签。若为类别索引，形状为(N)，值范围为0~C-1；
若为概率，形状需与pred一致</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>torch.Tensor: 计算得到的损失值</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.GramLoss" class="doc doc-heading">
            <code>GramLoss</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>Gram矩阵损失的实现</p>
<p>该损失函数通过最小化学生模型与教师模型输出特征的Gram矩阵差异，
使学生模型学习到特征间的相关性结构，实现知识蒸馏。
Gram矩阵反映了特征之间的关联强度，是一种结构化知识的表示。
https://github.com/facebookresearch/dinov3/blob/main/dinov3/loss/gram_loss.py</p>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.losses.GramLoss.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">apply_norm</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">img_level</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">remove_neg</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">remove_only_teacher_neg</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>初始化GramLoss模块</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>apply_norm</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否对特征进行L2归一化。若为True，内积等价于余弦相似度</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>img_level</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否在单张图像级别计算Gram矩阵
       - True: 输入特征形状为(B, N, D)，每张图像单独计算Gram矩阵
       - False: 输入特征展平为(B*N, D)，计算全局Gram矩阵</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remove_neg</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否将Gram矩阵中的负值置为0，仅保留正相关性</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remove_only_teacher_neg</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>仅将教师Gram矩阵的负值置为0，并同步清零学生矩阵对应位置
                     注意：与remove_neg互斥，只能有一个为True</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="AssertionError">AssertionError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>当remove_neg和remove_only_teacher_neg同时为True或同时为False时触发</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.losses.GramLoss.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">output_feats</span><span class="p">,</span> <span class="n">target_feats</span><span class="p">,</span> <span class="n">img_level</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>计算输入特征与目标特征的Gram矩阵之间的MSE损失</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>output_feats</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>学生模型输出的特征张量
          形状: (B, N, dim) 若img_level=True；(B*N, dim) 若img_level=False</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_feats</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>教师模型输出的目标特征张量，形状同output_feats</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>img_level</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否在图像级别计算Gram矩阵（覆盖类初始化时的同名参数）</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>loss</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>标量损失值，学生与教师Gram矩阵的MSE差异</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.KoLeoLoss" class="doc doc-heading">
            <code>KoLeoLoss</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>Kozachenko-Leonenko熵损失正则化器
源自论文：Sablayrolles et al. - 2018 - Spreading vectors for similarity search
作用：通过最大化特征分布的熵，使向量在特征空间中更分散，提升相似度搜索性能
https://github.com/facebookresearch/dinov3/blob/main/dinov3/loss/koleo_loss.py</p>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.losses.KoLeoLoss.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">student_output</span><span class="p">,</span> <span class="n">eps</span><span class="o">=</span><span class="mf">1e-08</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>前向传播计算损失</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>student_output</code>
            </td>
            <td>
                  <code><span title="BxD">BxD</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>学生模型的backbone输出特征，B为批次大小，D为特征维度</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>eps</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>数值稳定性参数，防止log(0)或除以零</p>
              </div>
            </td>
            <td>
                  <code>1e-08</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>loss</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>标量损失值，越小表示特征分布越分散</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.losses.KoLeoLoss.pairwise_NNs_inner" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pairwise_NNs_inner</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>为L2归一化的向量找到成对的最近邻
使用PyTorch实现而非Faiss，以保持在GPU上运行</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>x</code>
            </td>
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>形状为 (N, D) 的张量，N为样本数，D为特征维度（已L2归一化）</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>indices</code></td>            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>形状为 (N,) 的张量，每个元素表示对应样本的最近邻索引</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.LossVariance" class="doc doc-heading">
            <code>LossVariance</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>The instances in target should be labeled</p>











  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.LovaszLoss" class="doc doc-heading">
            <code>LovaszLoss</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>Lovasz损失函数，用于语义分割任务。
支持二值分割、多类别分割和多标签分割三种场景。</p>
<p>论文参考: https://arxiv.org/abs/1705.08790</p>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.losses.LovaszLoss.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">mode</span><span class="o">=</span><span class="s1">&#39;binary&#39;</span><span class="p">,</span> <span class="n">class_seen</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">per_image</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">ignore_index</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">loss_weight</span><span class="o">=</span><span class="mf">1.0</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>初始化Lovasz损失函数</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>mode: 损失计算模式，可选值为"binary"(二值)、"multiclass"(多类别)、"multilabel"(多标签)
class_seen: 需要纳入损失计算的类别列表
per_image: 若为True，将按图像计算损失后取平均；否则按整个批次计算
ignore_index: 需要忽略的标签值（不参与损失计算）
loss_weight: 损失的权重因子</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.losses.LovaszLoss.__repr__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__repr__</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>返回类的字符串表示，便于调试</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.losses.LovaszLoss.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">y_pred</span><span class="p">,</span> <span class="n">y_true</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>计算Lovasz损失</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>y_pred: 模型预测结果。形状根据模式有所不同:
    - 二值/多标签模式: (B, H, W) 或 (B, C, H, W)
    - 多类别模式: (B, C, H, W)
y_true: 真实标签。形状:
    - 二值/多类别模式: (B, H, W)
    - 多标签模式: (B, C, H, W)</p>
</details>

<details class="返回" open>
  <summary>返回</summary>
  <p>计算得到的损失值</p>
</details>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.MulticlassDiceLoss" class="doc doc-heading">
            <code>MulticlassDiceLoss</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>requires one hot encoded target. Applies DiceLoss on each class iteratively.
requires input.shape[0:1] and target.shape[0:1] to be (N, C) where N is
  batch size and C is number of classes</p>











  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.PatchIoULoss" class="doc doc-heading">
            <code>PatchIoULoss</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>PatchIoULoss（补丁 IoULoss）
    核心思想：将图像分割为多个子 patch 计算 IoU 损失，增强对局部细节的关注。
    实现方式：
        将图像按固定大小（64×64）划分为多个子区域。
        对每个子区域计算 IoU 损失并累加。
    适用场景：
        大尺寸图像分割（如遥感图像、高分辨率医学影像）。
        需要关注局部细节的任务（如病灶分割中的小肿瘤区域）。</p>











  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.SDFLoss" class="doc doc-heading">
            <code>SDFLoss</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>基于符号距离函数(SDF)特性的复合损失函数。</p>
<p>该损失函数通过多个约束项，确保模型预测的SDF满足其数学性质和几何特性，
包括SDF值准确性、内外区域区分度、法向量一致性和梯度单位模长约束。</p>


<details class="属性" open>
  <summary>属性</summary>
  <p>sdf_weight: SDF值约束项的权重系数
inter_weight: 区域区分约束项的权重系数
normal_weight: 法向量一致性约束项的权重系数
grad_weight: 梯度模长约束项的权重系数</p>
</details>










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.losses.SDFLoss.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">sdf_weight</span><span class="o">=</span><span class="mf">3000.0</span><span class="p">,</span> <span class="n">inter_weight</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span> <span class="n">normal_weight</span><span class="o">=</span><span class="mf">100.0</span><span class="p">,</span> <span class="n">grad_weight</span><span class="o">=</span><span class="mf">50.0</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>初始化SDF损失函数的各项权重。</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>sdf_weight: SDF值约束项的权重，默认3e3
inter_weight: 区域区分约束项的权重，默认1e2
normal_weight: 法向量一致性约束项的权重，默认1e2
grad_weight: 梯度模长约束项的权重，默认5e1</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.losses.SDFLoss.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">model_output</span><span class="p">,</span> <span class="n">gt</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>计算SDF重建的复合损失。</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>model_output: 模型输出字典，应包含:
    - 'model_in': 输入的空间坐标张量，形状为[B, N, 3]
    - 'model_out': 预测的SDF值，形状为[B, N, 1]
gt: 真实标签字典，应包含:
    - 'sdf': 真实SDF值，形状为[B, N, 1]，-1表示无标签
    - 'normals': 真实法向量，形状为[B, N, 3]</p>
</details>

<details class="返回" open>
  <summary>返回</summary>
  <p>包含各项损失的字典，键包括:
    - 'sdf_loss': SDF值约束损失
    - 'inter_loss': 区域区分约束损失
    - 'normal_loss': 法向量一致性损失
    - 'grad_loss': 梯度模长约束损失
    - 'total_loss': 总损失（各项加权和）</p>
</details>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.SSIMUtil" class="doc doc-heading">
            <code>SSIMUtil</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>结构相似性指数(SSIM)工具类，包含SSIM计算、损失函数和结构一致性度量</p>
<p>支持两种计算模式：
- 高斯滤波模式：使用高斯窗口计算，精度高
- 平均池化模式：使用平均池化替代高斯滤波，计算更快</p>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.losses.SSIMUtil.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">window_size</span><span class="o">=</span><span class="mi">11</span><span class="p">,</span> <span class="n">size_average</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s1">&#39;gaussian&#39;</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>初始化SSIM工具类</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>window_size: 窗口大小
size_average: 是否对结果进行平均
mode: 计算模式，'gaussian'或'average'</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.losses.SSIMUtil.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">img1</span><span class="p">,</span> <span class="n">img2</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>计算SSIM值</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>img1: 输入图像1
img2: 输入图像2</p>
</details>

<details class="返回" open>
  <summary>返回</summary>
  <p>ssim值</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.losses.SSIMUtil.saliency_structure_consistency" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">saliency_structure_consistency</span><span class="p">(</span><span class="n">img1</span><span class="p">,</span> <span class="n">img2</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>计算显著性结构一致性（SSIM均值）</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.losses.SSIMUtil.ssim_average" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ssim_average</span><span class="p">(</span><span class="n">img1</span><span class="p">,</span> <span class="n">img2</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>使用平均池化计算SSIM（快速版）</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.losses.SSIMUtil.ssim_gaussian" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ssim_gaussian</span><span class="p">(</span><span class="n">img1</span><span class="p">,</span> <span class="n">img2</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>使用高斯滤波计算SSIM</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.losses.SSIMUtil.ssim_loss" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">ssim_loss</span><span class="p">(</span><span class="n">img1</span><span class="p">,</span> <span class="n">img2</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>计算SSIM损失 (1 - SSIM)</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.StructureLoss" class="doc doc-heading">
            <code>StructureLoss</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>StructureLoss（结构损失）
   核心思想：结合加权二元交叉交叉熵（WBCE）和加权 IoU（WIoU），平衡前景背景不平衡问题，同时关注结构一致性。
   组成部分：
       加权 BCE（wbce）：通过权重矩阵weit（基于目标区域的局部均值）赋予前景区域更高的权重，缓解类别不平衡。
       加权 IoU（wiou）：在 IoU 计算中引入相同权重矩阵，更关注目标结构区域的重叠度。</p>











  <div class="doc doc-children">












  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.StyleTransfer" class="doc doc-heading">
            <code>StyleTransfer</code>


</h2>


    <div class="doc doc-contents ">



        <p>风格迁移模型类，包含风格迁移所需的各种损失函数及前向计算方法
https://zh.d2l.ai/chapter_computer-vision/neural-style.html#id8</p>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="ai.losses.StyleTransfer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">content_weight</span><span class="o">=</span><span class="mi">1</span><span class="p">,</span> <span class="n">style_weight</span><span class="o">=</span><span class="mf">1000.0</span><span class="p">,</span> <span class="n">tv_weight</span><span class="o">=</span><span class="mi">10</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>初始化风格迁移模型参数</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>content_weight: 内容损失的权重
style_weight: 风格损失的权重
tv_weight: 总变差损失的权重</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.losses.StyleTransfer.content_loss" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">content_loss</span><span class="p">(</span><span class="n">Y_hat</span><span class="p">,</span> <span class="n">Y</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>计算内容损失</p>
<p>内容损失用于衡量生成图像与内容图像在内容上的差异
通过比较两者的特征图直接实现</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>Y_hat: 生成图像的特征图
Y: 内容图像的特征图</p>
</details>

<details class="返回" open>
  <summary>返回</summary>
  <p>内容损失值</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.losses.StyleTransfer.forward" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">forward</span><span class="p">(</span><span class="n">X</span><span class="p">,</span> <span class="n">contents_Y_hat</span><span class="p">,</span> <span class="n">styles_Y_hat</span><span class="p">,</span> <span class="n">contents_Y</span><span class="p">,</span> <span class="n">styles_Y_gram</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>前向传播计算总损失</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>X: 生成的图像
contents_Y_hat: 生成图像在内容层的特征图列表
styles_Y_hat: 生成图像在风格层的特征图列表
contents_Y: 内容图像在内容层的特征图列表
styles_Y_gram: 风格图像在风格层的Gram矩阵列表</p>
</details>

<details class="返回" open>
  <summary>返回</summary>
  <p>contents_l: 各内容层的损失列表
styles_l: 各风格层的损失列表
tv_l: 总变差损失
total_loss: 总损失</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.losses.StyleTransfer.gram_matrix" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">gram_matrix</span><span class="p">(</span><span class="n">x</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>计算输入特征图的Gram矩阵</p>
<p>Gram矩阵用于衡量特征图之间的相关性，是风格损失计算的核心
Gram矩阵的元素(i,j)表示第i个特征图与第j个特征图的内积</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>x: 输入特征图，形状为(batch_size, channels, height, width)</p>
</details>

<details class="返回" open>
  <summary>返回</summary>
  <p>gram: 计算得到的Gram矩阵，形状为(batch_size, channels, channels)</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.losses.StyleTransfer.style_loss" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">style_loss</span><span class="p">(</span><span class="n">Y_hat</span><span class="p">,</span> <span class="n">gram_Y</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>计算风格损失</p>
<p>风格损失用于衡量生成图像与风格图像在风格上的差异
通过比较两者特征图的Gram矩阵实现</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>Y_hat: 生成图像的特征图
gram_Y: 风格图像特征图的Gram矩阵</p>
</details>

<details class="返回" open>
  <summary>返回</summary>
  <p>风格损失值</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="ai.losses.StyleTransfer.tv_loss" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">tv_loss</span><span class="p">(</span><span class="n">Y_hat</span><span class="p">)</span></code>

  <span class="doc doc-labels">
      <small class="doc doc-label doc-label-staticmethod"><code>staticmethod</code></small>
  </span>

</h3>


    <div class="doc doc-contents ">

        <p>计算总变差损失(Total Variation Loss)</p>
<p>总变差损失用于使生成图像更加平滑，减少高频噪声
通过计算相邻像素之间的差异实现</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>Y_hat: 生成的图像</p>
</details>

<details class="返回" open>
  <summary>返回</summary>
  <p>总变差损失值</p>
</details>

    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="ai.losses.WeightMulticlassDiceLoss" class="doc doc-heading">
            <code>WeightMulticlassDiceLoss</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="torch.nn.Module">Module</span></code></p>



        <p>requires one hot encoded target. Applies DiceLoss on each class iteratively.
requires input.shape[0:1] and target.shape[0:1] to be (N, C) where N is
  batch size and C is number of classes</p>











  <div class="doc doc-children">












  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="ai.losses.dice_loss_multi_classes" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">dice_loss_multi_classes</span><span class="p">(</span><span class="nb">input</span><span class="p">,</span> <span class="n">target</span><span class="p">,</span> <span class="n">epsilon</span><span class="o">=</span><span class="mf">1e-05</span><span class="p">,</span> <span class="n">weight</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>多类别Dice损失函数，用于语义分割任务，计算每个类别的Dice系数并转化为损失。
修改自：https://github.com/wolny/pytorch-3dunet/blob/.../losses.py 的compute_per_channel_dice</p>
<p>参数：
    input (Tensor): 模型预测的输出，形状为(batch_size, num_classes, [depth, height, width])
    target (Tensor): 真实标签的one-hot编码，形状需与input相同
    epsilon (float): 平滑系数，防止分母为零，默认为1e-5
    weight (Tensor, optional): 各类别的权重，形状应为(num_classes, )</p>
<p>返回：
    Tensor: 每个类别的Dice损失，形状为(num_classes, )</p>
<p>注意：
    - 输入和目标的维度必须完全一致
    - 本实现暂未使用weight参数，如需加权需后续手动处理</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="ai.utils"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="ai.utils.load_checkpoint" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load_checkpoint</span><span class="p">(</span><span class="n">path</span><span class="p">,</span> <span class="n">net</span><span class="p">,</span> <span class="n">optimizer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">strict</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">check_shape</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">map_location</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>加载模型状态，可以支持部分参数加载</p>
<p>加载策略:</p>
<ul>
<li>strict==True: 只有名称和形状完全一致的参数才会被加载；</li>
<li>strict==False且check_shape==True: 仅加载名称存在且形状匹配的参数；</li>
<li>strict==False且check_shape==False: 加载所有名称匹配的参数，不检查形状；</li>
</ul>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>模型文件路径</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>net</code>
            </td>
            <td>
                  <code><span title="torch.nn.Module">Module</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>要加载参数的神经网络模型</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>optimizer</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="torch.optim.Optimizer">Optimizer</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>优化器，如果需要加载优化器状态</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>strict</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否严格匹配模型参数</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>check_shape</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否检查参数形状匹配</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>map_location</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="str">str</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>指定设备映射，例如"cpu"或"cuda:0"</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
<th>名称</th>          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
<td><code>curr_iter</code></td>            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>加载了最后迭代次数;</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>loss</code></td>            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>最后损失值;</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
<td><code>extra_info</code></td>            <td>
                  <code><span title="typing.Dict">Dict</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>额外信息字典;</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ai.utils.pca_color_by_feat" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pca_color_by_feat</span><span class="p">(</span><span class="n">feat</span><span class="p">,</span> <span class="n">brightness</span><span class="o">=</span><span class="mf">1.25</span><span class="p">,</span> <span class="n">center</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>通过PCA将高维特征转换为RGB颜色，用于可视化。</p>
<p>该函数使用主成分分析(PCA)对输入特征进行降维，
组合前6个主成分生成3维颜色向量，并将其归一化到[0, 1]范围，
适用于作为RGB颜色值进行点云等数据的可视化。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>feat</code>
            </td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入的高维特征张量。
形状应为(num_points, feature_dim)，其中num_points是点的数量，
feature_dim是每个特征的维度。</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>brightness</code>
            </td>
            <td>
                  <code>(<span title="float">float</span>, <span title="可选">可选</span>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>颜色亮度的缩放因子。
值越高，整体颜色越明亮。默认值为1.25。</p>
              </div>
            </td>
            <td>
                  <code>1.25</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>center</code>
            </td>
            <td>
                  <code>(<span title="bool">bool</span>, <span title="可选">可选</span>)</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>在执行PCA之前是否对特征进行中心化（减去均值）。
默认值为True。</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>torch.Tensor: 归一化到[0, 1]范围的RGB颜色值。
形状为(num_points, 3)，每行代表(R, G, B)三个通道的颜色值。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ai.utils.save_checkpoint" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">save_checkpoint</span><span class="p">(</span><span class="n">save_path</span><span class="p">,</span> <span class="n">network</span><span class="p">,</span> <span class="n">loss</span><span class="p">,</span> <span class="n">optimizer</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">curr_iter</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">extra_info</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">save_best_only</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>保存模型状态、优化器状态、当前迭代次数和损失值;
save_best_only开启后，直接比较已保存模型的loss(避免硬件故障引起保存问题)</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>save_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>包含模型保存路径等参数的配置对象</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>network</code>
            </td>
            <td>
                  <code><span title="torch.nn.Module">Module</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>神经网络模型</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>optimizer</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="torch.optim.Optimizer">Optimizer</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>优化器</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>loss</code>
            </td>
            <td>
                  <code><span title="float">float</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>当前损失值</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>curr_iter</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>当前迭代次数</p>
              </div>
            </td>
            <td>
                  <code>0</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>extra_info</code>
            </td>
            <td>
                  <code><span title="typing.Optional">Optional</span>[<span title="typing.Dict">Dict</span>]</code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>可选的额外信息字典，用于保存其他需要的信息</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>save_best_only</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否仅在损失更优时保存模型，默认为True</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ai.utils.set_global_seeds" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_global_seeds</span><span class="p">(</span><span class="n">seed</span><span class="o">=</span><span class="mi">1024</span><span class="p">,</span> <span class="n">cudnn_enable</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>设置全局随机种子，确保Python、NumPy、PyTorch等环境的随机数生成器同步，提升实验可复现性。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>seed</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>要使用的基础随机数种子，默认值为1024。</p>
              </div>
            </td>
            <td>
                  <code>1024</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>cudnn_enable</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否将CuDNN设置为确定性模式，启用后可能会影响性能但提高可复现性，默认值为False。</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="ai.utils.set_ssl" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_ssl</span><span class="p">(</span><span class="n">SteamToolsCertificate_path</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>将steam++的证书写入到ssl中,防止requests.exceptions.SSLError报错
SteamToolsCertificate_path = os.path.join(os.path.dirname(<strong>file</strong>),"data","SteamTools.Certificate.pfx")</p>


    </div>

</div>



  </div>

    </div>

</div><hr />
<h2 id="api_3"><a id="报告模块api">报告模块API</a></h2>


<div class="doc doc-object doc-module">



<a id="report.report"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">












  </div>

    </div>

</div><hr />
<h2 id="windowsapi"><a id="windows工具api">Windows工具API</a></h2>


<div class="doc doc-object doc-module">



<a id="win_tools.tools"></a>
    <div class="doc doc-contents first">

        <pre><code>@path   ：sindre_package -&gt; py2pyd.py
@IDE    ：PyCharm
@Author ：sindre
@Email  ：yx@mviai.com
@Date   ：2024/6/17 16:32
@Version: V0.1
@License: (C)Copyright 2021-2023 , UP3D
@Reference: 
</code></pre>










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="win_tools.tools.ip_bind" class="doc doc-heading">
            <code>ip_bind</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="threading.Thread">Thread</span></code></p>



        <p>实现本地0.0.0.0：8000 &lt;--&gt; 远程端口 内网穿透</p>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="win_tools.tools.ip_bind.set_ip" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_ip</span><span class="p">(</span><span class="n">remote_ip</span><span class="p">,</span> <span class="n">remote_port</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <pre><code>设置远程ip及端口
</code></pre>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>remote_ip</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>远程ip</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>remote_port</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>远程端口</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>
        <p>Returns:</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-class">



<h2 id="win_tools.tools.tcp_mapping_qt" class="doc doc-heading">
            <code>tcp_mapping_qt</code>


</h2>


    <div class="doc doc-contents ">
            <p class="doc doc-class-bases">
              Bases: <code><span title="threading.Thread">Thread</span></code></p>



        <p>TCP 传输线程</p>











  <div class="doc doc-children">












  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="win_tools.tools.check_port" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_port</span><span class="p">(</span><span class="n">port</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>检测win端口是否被占用
</code></pre>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>port</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>端口号</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否被占用</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="win_tools.tools.download_url_file" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">download_url_file</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">package_path</span><span class="o">=</span><span class="s1">&#39;test.zip&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>下载网络文件
</code></pre>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>url</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>文件下载地址</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>package_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>保存路径</p>
              </div>
            </td>
            <td>
                  <code>&#39;test.zip&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>下载是否成功</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="win_tools.tools.exe2nsis" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">exe2nsis</span><span class="p">(</span><span class="n">work_dir</span><span class="p">,</span> <span class="n">files_to_compress</span><span class="p">,</span> <span class="n">exe_name</span><span class="p">,</span> <span class="n">appname</span><span class="o">=</span><span class="s1">&#39;AI&#39;</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;1.0.0.0&#39;</span><span class="p">,</span> <span class="n">author</span><span class="o">=</span><span class="s1">&#39;SindreYang&#39;</span><span class="p">,</span> <span class="n">license</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">icon_old</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>将exe进行nsis封装成安装程序；
</code></pre>


<details class="notes" open>
  <summary>Notes</summary>
  <p>files_to_compress =[f"{self.work_dir}/{i}" for i in  ["app", "py", "third", "app.exe", "app.py", "requirements.txt"]]</p>
</details>

<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>work_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>生成的路径</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>files_to_compress</code>
            </td>
            <td>
                  <code><span title="list">list</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>需要转换的文件夹/文件列表</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>exe_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>指定主运行程序，快捷方式也是用此程序生成</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>appname</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>产品名</p>
              </div>
            </td>
            <td>
                  <code>&#39;AI&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>version</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>版本号--必须为 X.X.X.X</p>
              </div>
            </td>
            <td>
                  <code>&#39;1.0.0.0&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>author</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>作者</p>
              </div>
            </td>
            <td>
                  <code>&#39;SindreYang&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>license</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>licence.txt协议路径</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>icon_old</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>图标</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="win_tools.tools.is_service_exists" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">is_service_exists</span><span class="p">(</span><span class="n">service_name</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>使用sc query命令来查询服务
</code></pre>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>service_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>服务名</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>返回是否存在服务</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="win_tools.tools.kill_process_using_port" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">kill_process_using_port</span><span class="p">(</span><span class="n">server_port</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>请求管理员权限，并强制释放端口
</code></pre>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>server_port</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>端口号</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>端口是否成功释放</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="win_tools.tools.pip_install" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">pip_install</span><span class="p">(</span><span class="n">package_name</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">target_dir</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">requirements_path</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>模拟pip安装
</code></pre>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>package_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>包名</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>target_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>安装目录，为空，则自动安装到当前环境下</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>requirements_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>requirementsTxT路径</p>
              </div>
            </td>
            <td>
                  <code>&#39;&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="win_tools.tools.py2pyd" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">py2pyd</span><span class="p">(</span><span class="n">source_path</span><span class="p">,</span> <span class="n">clear_py</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>将目录下所有py文件编译成pyd文件。
</code></pre>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>source_path</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>源码目录</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>clear_py</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否编译后清除py文件,注意备份。</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="win_tools.tools.python_installer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">python_installer</span><span class="p">(</span><span class="n">install_dir</span><span class="p">,</span> <span class="n">version</span><span class="o">=</span><span class="s1">&#39;3.9.6&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code>python自动化安装
</code></pre>


<details class="notes" open>
  <summary>Notes</summary>
  <p>默认从 https://mirrors.huaweicloud.com/python/{version}/python-{version}-embed-amd64.zip 下载安装</p>
</details>

<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>install_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>安装位置</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>version</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>版本号</p>
              </div>
            </td>
            <td>
                  <code>&#39;3.9.6&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="win_tools.tools.zip_extract" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">zip_extract</span><span class="p">(</span><span class="n">zip_path</span><span class="p">,</span> <span class="n">install_dir</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <pre><code> 将zip文件解压
</code></pre>
<p>Args:
    zip_path: zip文件路径
    install_dir: 解压目录</p>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>解压是否成功</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="win_tools.taskbar"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="win_tools.taskbar.set_windows_alpha" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_windows_alpha</span><span class="p">(</span><span class="n">alpha</span><span class="o">=</span><span class="mi">255</span><span class="p">,</span> <span class="n">class_name</span><span class="o">=</span><span class="s1">&#39;Shell_TrayWnd&#39;</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>通过查找class_name,强制用于设置任务栏透明程度</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>alpha</code>
            </td>
            <td>
                  <code><span title="int">int</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>透明度，(0--完全透明，255--完全不透明）</p>
              </div>
            </td>
            <td>
                  <code>255</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>class_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>窗口名</p>
              </div>
            </td>
            <td>
                  <code>&#39;Shell_TrayWnd&#39;</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>



  </div>

    </div>

</div><hr />
<h2 id="api_4"><a id="部署相关-api">部署相关 API</a></h2>


<div class="doc doc-object doc-module">



<a id="deploy.check_tools"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="deploy.check_tools.timeit" class="doc doc-heading">
            <code>timeit</code>


</h2>


    <div class="doc doc-contents ">



        <p>测量函数执行时间的上下文管理器类，附加内存监控功能</p>











  <div class="doc doc-children">












  </div>

    </div>

</div>


<div class="doc doc-object doc-function">


<h2 id="deploy.check_tools.check_gpu_info" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">check_gpu_info</span><span class="p">()</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>检测系统信息</p>


    </div>

</div>



  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="deploy.onnxruntime_deploy"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="deploy.onnxruntime_deploy.OnnxInfer" class="doc doc-heading">
            <code>OnnxInfer</code>


</h2>


    <div class="doc doc-contents ">













  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="deploy.onnxruntime_deploy.OnnxInfer.__call__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__call__</span><span class="p">(</span><span class="n">inputs</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>执行模型推理</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="deploy.onnxruntime_deploy.OnnxInfer.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">onnx_path</span><span class="p">,</span> <span class="n">providers</span><span class="o">=</span><span class="p">[(</span><span class="s1">&#39;CPUExecutionProvider&#39;</span><span class="p">,</span> <span class="p">{})],</span> <span class="n">enable_log</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>ONNX模型推理类，支持多种推理后端（CPU/GPU等）</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>onnx_path: ONNX模型文件路径
providers: 推理提供者列表，格式为[(provider_name, options_dict), ...]</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="deploy.onnxruntime_deploy.OnnxInfer.convert_opset_version" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">convert_opset_version</span><span class="p">(</span><span class="n">save_path</span><span class="p">,</span> <span class="n">target_version</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>转换ONNX模型的Opset版本
:param save_path: 保存路径
:param target_version: 目标Opset版本（如16）</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="deploy.onnxruntime_deploy.OnnxInfer.dynamic_input_shape" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">dynamic_input_shape</span><span class="p">(</span><span class="n">save_path</span><span class="p">,</span> <span class="n">dynamic_dims</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>设置ONNX模型的输入为动态尺寸（支持多输入，None表示动态维度）
:param dynamic_dims: 动态维度列表，如 [[None, 3, None, 480], [None, 3, None, 480]]
                    每个子列表对应一个输入的维度，None表示该维度动态可变</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="deploy.onnxruntime_deploy.OnnxInfer.fix_input_shape" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">fix_input_shape</span><span class="p">(</span><span class="n">save_path</span><span class="p">,</span> <span class="n">input_shapes</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>固定ONNX模型的输入尺寸（支持多输入）
:param save_path: 保存路径
:param input_shapes: 输入形状列表，如 [[1,3,416,480], [1,3,416,480]] or [[1,3,416,480]]</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="deploy.onnxruntime_deploy.OnnxInfer.get_session" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_session</span><span class="p">(</span><span class="n">onnx_path</span><span class="p">,</span> <span class="n">providers</span><span class="p">,</span> <span class="n">enable_log</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>加载并验证ONNX模型，创建推理会话</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="deploy.onnxruntime_deploy.OnnxInfer.optimizer" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">optimizer</span><span class="p">(</span><span class="n">save_onnx</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>优化并简化ONNX模型</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="deploy.onnxruntime_deploy.OnnxInfer.test_performance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_performance</span><span class="p">(</span><span class="n">loop</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">warmup</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>测试模型推理速度</p>


    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="deploy.python_share_memory"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="deploy.python_share_memory.SimpleSharedMemory" class="doc doc-heading">
            <code>SimpleSharedMemory</code>


</h2>


    <div class="doc doc-contents ">













  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="deploy.python_share_memory.SimpleSharedMemory.get_status" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_status</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>获取状态标志</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="deploy.python_share_memory.SimpleSharedMemory.read" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">read</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>读取数据并清空内存</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="deploy.python_share_memory.SimpleSharedMemory.set_status" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">set_status</span><span class="p">(</span><span class="n">status</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>设置状态标志：0-空，1-已写入</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="deploy.python_share_memory.SimpleSharedMemory.write" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">write</span><span class="p">(</span><span class="n">array</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>写入数据，如果内存未清空则等待</p>


    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="deploy.TenserRT_deploy"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="deploy.TenserRT_deploy.TRTInfer" class="doc doc-heading">
            <code>TRTInfer</code>


</h2>


    <div class="doc doc-contents ">













  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="deploy.TenserRT_deploy.TRTInfer.__call__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__call__</span><span class="p">(</span><span class="n">data</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>执行推理</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="deploy.TenserRT_deploy.TRTInfer.build_engine" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">build_engine</span><span class="p">(</span><span class="n">onnx_path</span><span class="p">,</span> <span class="n">engine_path</span><span class="p">,</span> <span class="n">max_workspace_size</span><span class="o">=</span><span class="mi">4</span> <span class="o">&lt;&lt;</span> <span class="mi">30</span><span class="p">,</span> <span class="n">fp16</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">dynamic_shape_profile</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">hardware_compatibility</span><span class="o">=</span><span class="s1">&#39;&#39;</span><span class="p">,</span> <span class="n">optimization_level</span><span class="o">=</span><span class="mi">3</span><span class="p">,</span> <span class="n">version_compatible</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>从ONNX模型构建TensorRT引擎</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>onnx_path (str): ONNX模型路径
engine_path (str, optional): 引擎保存路径
max_workspace_size (int, optional): 最大工作空间大小，默认为4GB
fp16 (bool, optional): 是否启用FP16精度
dynamic_shape_profile (dict, optional): 动态形状配置，格式为:
    {
        "input_name": {
            "min": (1, 3, 224, 224),  # 最小形状
            "opt": (4, 3, 224, 224),  # 优化形状
            "max": (8, 3, 224, 224)   # 最大形状
        }
    }
hardware_compatibility (str, optional): 硬件兼容性级别，可选值:
    - "": 默认(最快)
    - "same_sm": 相同计算能力(其次)
    - "ampere_plus": Ampere及更高架构(最慢)
    Pascal(10系)、Volta(V100)、Turing(20系)、Ampere(30系)、
    Ada(40系)、Hopper(H100)、Blackwell(50系)
optimization_level (int): 优化级别,默认最优级别3;
    ・等级0：通过禁用动态内核生成并选择执行成功的第一个策略，实现最快的编译。这也不会考虑计时缓存。
    ・等级1：可用策略按启发式方法排序，但仅测试排名靠前的策略以选择最佳策略。如果生成动态内核，其编译优化程度较低。
    ・等级2：可用策略按启发式方法排序，但仅测试最快的策略以选择最佳策略。
    ・等级3：应用启发式方法，判断静态预编译内核是否适用，或者是否必须动态编译新内核。
    ・等级4：始终编译动态内核。
    ・等级5：始终编译动态内核，并将其与静态内核进行比较。
version_compatible (bool): 是否启用版本兼容模式(8.6构建的引擎可以在10.x上运行)</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="deploy.TenserRT_deploy.TRTInfer.load_model" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">load_model</span><span class="p">(</span><span class="n">engine_path</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>从TensorRT引擎文件加载模型</p>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="deploy.TenserRT_deploy.TRTInfer.test_performance" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">test_performance</span><span class="p">(</span><span class="n">loop</span><span class="o">=</span><span class="mi">10</span><span class="p">,</span> <span class="n">warmup</span><span class="o">=</span><span class="mi">3</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>测试推理性能（自动生成随机输入）</p>


<details class="参数" open>
  <summary>参数</summary>
  <p>loop: 正式测试循环次数
warmup: 预热次数</p>
</details>

    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>

<div class="doc doc-object doc-module">



<a id="deploy.opset_deploy"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h2 id="deploy.opset_deploy.grid_sample" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">grid_sample</span><span class="p">(</span><span class="nb">input</span><span class="p">,</span> <span class="n">grid</span><span class="p">,</span> <span class="n">align_corners</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>自适应版本的grid_sample，根据输入维度自动选择2D或3D实现</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>input</code>
            </td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入图像
- 对于2D采样: 形状为 (N, C, H, W)
- 对于3D采样: 形状为 (N, C, D, H, W)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>grid</code>
            </td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>采样网格
- 对于2D采样: 形状为 (N, Hg, Wg, 2)
- 对于3D采样: 形状为 (N, D_out, H_out, W_out, 3)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>align_corners</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>坐标归一化方式，与F.grid_sample的align_corners参数含义一致</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>torch.Tensor: 采样结果
- 对于2D采样: 形状为 (N, C, Hg, Wg)
- 对于3D采样: 形状为 (N, C, D_out, H_out, W_out)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<p><span class="doc-section-title">引发：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>如果输入维度不是4D(2D)或5D(3D)</p>
              </div>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                  <code><span title="ValueError">ValueError</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>如果grid的最后一维不是2(2D)或3(3D)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>该函数根据输入维度自动调用grid_sample_2d或grid_sample_3d
等效于PyTorch的F.grid_sample，padding_mode='zeros'</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="deploy.opset_deploy.grid_sample_2d" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">grid_sample_2d</span><span class="p">(</span><span class="n">im</span><span class="p">,</span> <span class="n">grid</span><span class="p">,</span> <span class="n">align_corners</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>2D版本的grid_sample，使用双线性插值对输入像素进行采样</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>im</code>
            </td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入特征图，形状 (N, C, H, W)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>grid</code>
            </td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>点坐标，形状 (N, Hg, Wg, 2)，最后一维是(x,y)坐标</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>align_corners</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>坐标归一化方式，与F.grid_sample的align_corners参数含义一致</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>torch.Tensor: 采样结果，形状为 (N, C, Hg, Wg)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>等效于PyTorch的F.grid_sample，padding_mode='zeros'</p>
</details>

    </div>

</div>

<div class="doc doc-object doc-function">


<h2 id="deploy.opset_deploy.grid_sample_3d" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">grid_sample_3d</span><span class="p">(</span><span class="n">image</span><span class="p">,</span> <span class="n">grid</span><span class="p">,</span> <span class="n">align_corners</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

</h2>


    <div class="doc doc-contents ">

        <p>3D版本的grid_sample，功能等同于F.grid_sample(image, grid_3d, align_corners=True)
支持align_corners参数，控制坐标归一化方式</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>image</code>
            </td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>输入图像，形状为 (N, C, D, H, W)</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>grid</code>
            </td>
            <td>
                  <code><span title="torch.Tensor">Tensor</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>采样网格，形状为 (N, D_out, H_out, W_out, 3)，最后一维是(x,y,z)坐标</p>
              </div>
            </td>
            <td>
                <em>必需</em>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>align_corners</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>坐标归一化方式，与F.grid_sample的align_corners参数含义一致</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
      </tbody>
    </table>


    <p><span class="doc-section-title">返回：</span></p>
    <table>
      <thead>
        <tr>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
            </td>
            <td>
              <div class="doc-md-description">
                <p>torch.Tensor: 采样结果，形状为 (N, C, D_out, H_out, W_out)</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>


<details class="notes" open>
  <summary>Notes</summary>
  <p>等效于PyTorch的F.grid_sample，padding_mode='zeros'</p>
</details>

    </div>

</div>



  </div>

    </div>

</div><hr />
<h2 id="api_5"><a id="日志工具-api">日志工具 API</a></h2>


<div class="doc doc-object doc-module">



<a id="general.logs"></a>
    <div class="doc doc-contents first">










  <div class="doc doc-children">









<div class="doc doc-object doc-class">



<h2 id="general.logs.CustomLogger" class="doc doc-heading">
            <code>CustomLogger</code>


</h2>


    <div class="doc doc-contents ">



        <p>一个使用 loguru 库的自定义日志记录器类，支持多进程、print重定向、日志分级存储等。</p>


<p><span class="doc-section-title">属性：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td><code><span title="general.logs.CustomLogger.logger">logger</span></code></td>
            <td>
                  <code><span title="general.logs.CustomLogger.logger">logger</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>配置好的 loguru 日志记录器实例。</p>
              </div>
            </td>
          </tr>
      </tbody>
    </table>











  <div class="doc doc-children">










<div class="doc doc-object doc-function">


<h3 id="general.logs.CustomLogger.__init__" class="doc doc-heading">
            <code class="highlight language-python"><span class="fm">__init__</span><span class="p">(</span><span class="n">logger_name</span><span class="o">=</span><span class="kc">None</span><span class="p">,</span> <span class="n">level</span><span class="o">=</span><span class="s1">&#39;DEBUG&#39;</span><span class="p">,</span> <span class="n">log_dir</span><span class="o">=</span><span class="s1">&#39;logs&#39;</span><span class="p">,</span> <span class="n">console_output</span><span class="o">=</span><span class="kc">True</span><span class="p">,</span> <span class="n">file_output</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">capture_print</span><span class="o">=</span><span class="kc">False</span><span class="p">,</span> <span class="n">filter_log</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>初始化 CustomLogger。</p>


<p><span class="doc-section-title">参数：</span></p>
    <table>
      <thead>
        <tr>
          <th>名称</th>
          <th>类型</th>
          <th>描述</th>
          <th>默认</th>
        </tr>
      </thead>
      <tbody>
          <tr class="doc-section-item">
            <td>
                <code>logger_name</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>日志记录器名称。</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>level</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>日志级别，默认为 'DEBUG'。</p>
              </div>
            </td>
            <td>
                  <code>&#39;DEBUG&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>log_dir</code>
            </td>
            <td>
                  <code><span title="str">str</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>日志文件存储目录。</p>
              </div>
            </td>
            <td>
                  <code>&#39;logs&#39;</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>console_output</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否启用控制台输出。</p>
              </div>
            </td>
            <td>
                  <code>True</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>file_output</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否启用文件输出。</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>capture_print</code>
            </td>
            <td>
                  <code><span title="bool">bool</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>是否捕获 print 输出。</p>
              </div>
            </td>
            <td>
                  <code>False</code>
            </td>
          </tr>
          <tr class="doc-section-item">
            <td>
                <code>filter_log</code>
            </td>
            <td>
                  <code><span title="callable">callable</span></code>
            </td>
            <td>
              <div class="doc-md-description">
                <p>自定义日志过滤函数。</p>
              </div>
            </td>
            <td>
                  <code>None</code>
            </td>
          </tr>
      </tbody>
    </table>


    </div>

</div>

<div class="doc doc-object doc-function">


<h3 id="general.logs.CustomLogger.get_logger" class="doc doc-heading">
            <code class="highlight language-python"><span class="n">get_logger</span><span class="p">()</span></code>

</h3>


    <div class="doc doc-contents ">

        <p>获取配置好的日志记录器实例。</p>


    </div>

</div>



  </div>

    </div>

</div>




  </div>

    </div>

</div>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      <script id="__config" type="application/json">{"annotate": null, "base": "..", "features": ["navigation.tabs", "search.highlight"], "search": "../assets/javascripts/workers/search.7a47a382.min.js", "tags": null, "translations": {"clipboard.copied": "\u5df2\u590d\u5236", "clipboard.copy": "\u590d\u5236", "search.result.more.one": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.more.other": "\u5728\u8be5\u9875\u4e0a\u8fd8\u6709 # \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.none": "\u6ca1\u6709\u627e\u5230\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.one": "\u627e\u5230 1 \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.other": "# \u4e2a\u7b26\u5408\u6761\u4ef6\u7684\u7ed3\u679c", "search.result.placeholder": "\u952e\u5165\u4ee5\u5f00\u59cb\u641c\u7d22", "search.result.term.missing": "\u7f3a\u5c11", "select.version": "\u9009\u62e9\u5f53\u524d\u7248\u672c"}, "version": null}</script>
    
    
      <script src="../assets/javascripts/bundle.e71a0d61.min.js"></script>
      
    
  </body>
</html>